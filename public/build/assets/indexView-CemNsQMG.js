import{c as E,o as _,w as n,a as X,b as a,Q as z,d as O,t as b,e as me,u as Ee,f as H,g as se,h as Z,i as c,j as q,k as ee,l as Je,m as te,n as ne,p as Xe,s as Ie,q as Ye,r as ve,v as T,x,y as Ze,z as et,A as tt,B as at,C as st,D,E as K,F as xe,G as ke,H as De,I as V,T as nt,J as ge,K as ot,L as lt,M as oe,N as rt,O as Oe,P as it,R as ut,S as ct,U as _e,V as G,W as le,X as Se,Y as Te,Z as re,_ as dt,$ as he,a0 as qe,a1 as Y,a2 as ft,a3 as Ne,a4 as ze,a5 as Ae,a6 as $e,a7 as mt,a8 as vt,a9 as gt,aa as He,ab as _t,ac as ht}from"./app-CVo2F_W3.js";import{C as ie,Q as pe}from"./ClosePopup-CbTDksMi.js";import{Q as pt}from"./QDrawer-BZwB_FoC.js";import{Q as yt,a as bt,b as wt}from"./QLayout-kQp8uDh8.js";import{Q as de}from"./QImg-BE0GSjEp.js";import{Q as W,a as N,b as Ve,v as xt,c as Pe,u as kt,p as Qe,d as St,e as Tt,f as $t,r as Ce,s as Pt,g as Le,h as ue}from"./QMenu-Bv4-7jnn.js";import{u as Be}from"./useTextTruncate-BXow-7eB.js";import{Q as Qt}from"./QSpace-92-bbKT5.js";import{Q as Ct}from"./QBadge-DqKeR-yY.js";import{u as J}from"./useFetch-CRpE6LrY.js";import{u as Lt}from"./useResourceIndex-OJHyqOIO.js";import{l as Et,a as It,b as Dt}from"./es-B4712qFq.js";import{u as ce}from"./index-CwMOWcUW.js";/* empty css               */import"./format-BOf40pHW.js";import"./index-DZucgB02.js";const Ot={__name:"ProfileDropdownList",emits:["logout"],setup(e,{emit:i}){const d=i,l=()=>{d("logout")};return(t,v)=>(_(),E(pe,{style:{"min-width":"150px"},dense:"",class:"q-pa-xs mt-1"},{default:n(()=>[X((_(),E(W,{to:{name:"profile"},clickable:"",class:"py-2 hover:cursor-pointer rounded-md","active-class":""},{default:n(()=>[a(N,{avatar:"",class:"min-w-fit pe-2"},{default:n(()=>[a(z,{name:"sym_r_person",size:"xs"})]),_:1}),a(N,{class:"text-sm"},{default:n(()=>[O(b(t.$t("profile.title")),1)]),_:1})]),_:1})),[[ie]]),X((_(),E(W,{to:{name:"settings"},clickable:"",class:"py-2 mb-2 hover:cursor-pointer rounded-md","active-class":""},{default:n(()=>[a(N,{avatar:"",class:"min-w-fit pe-2"},{default:n(()=>[a(z,{name:"sym_r_settings",size:"xs"})]),_:1}),a(N,{class:"text-sm"},{default:n(()=>[O(b(t.$t("settings.title")),1)]),_:1})]),_:1})),[[ie]]),a(me),X((_(),E(W,{clickable:"",onClick:l,class:"py-2 mt-2 hover:cursor-pointer rounded-md"},{default:n(()=>[a(N,{avatar:"",class:"min-w-fit pe-2"},{default:n(()=>[a(z,{name:"sym_r_logout",size:"xs"})]),_:1}),a(N,{class:"text-sm"},{default:n(()=>[O(b(t.$t("logout")),1)]),_:1})]),_:1})),[[ie]])]),_:1}))}},qt={class:"mb-2 p-2"},Nt=["title"],zt=["title"],At={class:"flex flex-nowrap p-2 px-4 gap-3"},Ht={class:"overflow-hidden"},Vt={class:"text-sm font-medium"},Bt={class:"text-xs dark:text-gray-400 text-grey-8"},Mt={__name:"ProfileDropdown",props:{user:{type:Object}},setup(e){const{truncate:i}=Be(),d=e,l=Ee();async function t(){await l.logout(),d.user=null}return(v,f)=>(_(),H("div",qt,[a(Je,{class:"dark:bg-slate-700 overflow-hidden bg-gray-50 shadow-none flex flex-nowrap items-center gap-4 p-2 py-3 w-full"},{default:n(()=>[a(se,{class:"p-0"},{default:n(()=>[a(Z,{size:"lg"},{default:n(()=>[a(de,{src:e.user?.photo??"/src/img/avatar.png"},null,8,["src"])]),_:1})]),_:1}),a(se,{class:"p-0 truncate"},{default:n(()=>[c("div",{class:"text-sm font-medium",title:e.user?.name},b(q(i)(e.user?.name,20)),9,Nt),c("div",{class:"text-xs dark:text-gray-400 text-grey-8 truncate",title:e.user?.email},b(q(i)(e.user?.email,20)),9,zt)]),_:1}),a(se,{class:"p-0 ms-auto me-2"},{default:n(()=>[a(ee,{icon:"sym_r_unfold_more",padding:"sm",size:"sm",unelevated:""},{default:n(()=>[a(Ve,{offset:[0,6],class:"q-pa-xs rounded-lg dark:bg-slate-700 shadow-md border dark:border-0 w-fit"},{default:n(()=>[c("div",At,[c("div",null,[a(Z,{size:"lg"},{default:n(()=>[a(de,{src:e.user?.photo??"/src/img/avatar.png"},null,8,["src"])]),_:1})]),c("div",Ht,[c("div",Vt,b(e.user?.name),1),c("div",Bt,b(e.user?.email),1)])]),a(me,{class:"mx-1"}),a(Ot,{onLogout:t})]),_:1})]),_:1})]),_:1})]),_:1})]))}},fe=te({name:"QTooltip",inheritAttrs:!1,props:{...kt,...Ye,...ne,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ne.transitionShow,default:"jump-down"},transitionHide:{...ne.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Pe},self:{type:String,default:"top middle",validator:Pe},offset:{type:Array,default:()=>[14,14],validator:xt},scrollTarget:Ie,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Xe],setup(e,{slots:i,emit:d,attrs:l}){let t,v;const f=ve(),{proxy:{$q:m}}=f,r=T(null),u=T(!1),P=x(()=>Qe(e.anchor,m.lang.rtl)),I=x(()=>Qe(e.self,m.lang.rtl)),Q=x(()=>e.persistent!==!0),{registerTick:w,removeTick:C}=Ze(),{registerTimeout:k}=et(),{transitionProps:h,transitionStyle:S}=tt(e),{localScrollTarget:o,changeScrollEvent:g,unconfigureScrollTarget:A}=St(e,be),{anchorEl:$,canShow:F,anchorEvents:s}=Tt({showing:u,configureAnchorEl:We}),{show:p,hide:y}=at({showing:u,canShow:F,handleShow:Re,handleHide:je,hideOnRouteChange:Q,processOnMount:!0});Object.assign(s,{delayShow:Fe,delayHide:Ue});const{showPortal:j,hidePortal:B,renderPortal:Me}=st(f,r,Ge,"tooltip");if(m.platform.is.mobile===!0){const L={anchorEl:$,innerRef:r,onClickOutside(M){return y(M),M.target.classList.contains("q-dialog__backdrop")&&ot(M),!0}},ae=x(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);D(ae,M=>{(M===!0?$t:Ce)(L)}),K(()=>{Ce(L)})}function Re(L){j(),w(()=>{v=new MutationObserver(()=>U()),v.observe(r.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),U(),be()}),t===void 0&&(t=D(()=>m.screen.width+"|"+m.screen.height+"|"+e.self+"|"+e.anchor+"|"+m.lang.rtl,U)),k(()=>{j(!0),d("show",L)},e.transitionDuration)}function je(L){C(),B(),ye(),k(()=>{B(!0),d("hide",L)},e.transitionDuration)}function ye(){v!==void 0&&(v.disconnect(),v=void 0),t!==void 0&&(t(),t=void 0),A(),xe(s,"tooltipTemp")}function U(){Pt({targetEl:r.value,offset:e.offset,anchorEl:$.value,anchorOrigin:P.value,selfOrigin:I.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Fe(L){if(m.platform.is.mobile===!0){Le(),document.body.classList.add("non-selectable");const ae=$.value,M=["touchmove","touchcancel","touchend","click"].map(we=>[ae,we,"delayHide","passiveCapture"]);ke(s,"tooltipTemp",M)}k(()=>{p(L)},e.delay)}function Ue(L){m.platform.is.mobile===!0&&(xe(s,"tooltipTemp"),Le(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),k(()=>{y(L)},e.hideDelay)}function We(){if(e.noParentEvent===!0||$.value===null)return;const L=m.platform.is.mobile===!0?[[$.value,"touchstart","delayShow","passive"]]:[[$.value,"mouseenter","delayShow","passive"],[$.value,"mouseleave","delayHide","passive"]];ke(s,"anchor",L)}function be(){if($.value!==null||e.scrollTarget!==void 0){o.value=De($.value,e.scrollTarget);const L=e.noParentEvent===!0?U:y;g(o.value,L)}}function Ke(){return u.value===!0?V("div",{...l,ref:r,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,S.value],role:"tooltip"},ge(i.default)):null}function Ge(){return V(nt,h.value,Ke)}return K(ye),Object.assign(f.proxy,{updatePosition:U}),Me}}),Rt=te({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:i}){const d=x(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>V("div",{class:d.value,role:"toolbar"},ge(i.default))}}),jt=te({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:d}){const{proxy:{$q:l}}=ve(),t=lt(rt,oe);if(t===oe)return console.error("QHeader needs to be child of QLayout"),oe;const v=T(parseInt(e.heightHint,10)),f=T(!0),m=x(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||l.platform.is.ios&&t.isContainer.value===!0),r=x(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return f.value===!0?v.value:0;const o=v.value-t.scroll.value.position;return o>0?o:0}),u=x(()=>e.modelValue!==!0||m.value===!0&&f.value!==!0),P=x(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),I=x(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),Q=x(()=>{const o=t.rows.value.top,g={};return o[0]==="l"&&t.left.space===!0&&(g[l.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(g[l.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),g});function w(o,g){t.update("header",o,g)}function C(o,g){o.value!==g&&(o.value=g)}function k({height:o}){C(v,o),w("size",o)}function h(o){P.value===!0&&C(f,!0),d("focusin",o)}D(()=>e.modelValue,o=>{w("space",o),C(f,!0),t.animate()}),D(r,o=>{w("offset",o)}),D(()=>e.reveal,o=>{o===!1&&C(f,e.modelValue)}),D(f,o=>{t.animate(),d("reveal",o)}),D(t.scroll,o=>{e.reveal===!0&&C(f,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const S={};return t.instances.header=S,e.modelValue===!0&&w("size",v.value),w("space",e.modelValue),w("offset",r.value),K(()=>{t.instances.header===S&&(t.instances.header=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const o=Oe(i.default,[]);return e.elevated===!0&&o.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(V(yt,{debounce:0,onResize:k})),V("header",{class:I.value,style:Q.value,onFocusin:h},o)}}}),{passive:R}=it,Ft=te({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:Ie,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:i,emit:d}){const l=T(!1),t=T(!0),v=T(null),f=T(null);let m=e.initialIndex,r,u;const P=x(()=>"q-infinite-scroll__loading"+(l.value===!0?"":" invisible"));function I(){if(e.disable===!0||l.value===!0||t.value===!1)return;const s=G(r),p=le(r),y=Se(r);e.reverse===!1?Math.round(p+y+e.offset)>=Math.round(s)&&Q():Math.round(p)<=e.offset&&Q()}function Q(){if(e.disable===!0||l.value===!0||t.value===!1)return;m++,l.value=!0;const s=G(r);d("load",m,p=>{t.value===!0&&(l.value=!1,Te(()=>{if(e.reverse===!0){const y=G(r),j=le(r),B=y-s;re(r,j+B)}p===!0?k():v.value&&v.value.closest("body")&&u()}))})}function w(){m=0}function C(){t.value===!1&&(t.value=!0,r.addEventListener("scroll",u,R)),I()}function k(){t.value===!0&&(t.value=!1,l.value=!1,r.removeEventListener("scroll",u,R),u?.cancel?.())}function h(){if(r&&t.value===!0&&r.removeEventListener("scroll",u,R),r=De(v.value,e.scrollTarget),t.value===!0){if(r.addEventListener("scroll",u,R),e.reverse===!0){const s=G(r),p=Se(r);re(r,s-p)}I()}}function S(s){m=s}function o(s){s=parseInt(s,10);const p=u;u=s<=0?I:dt(I,isNaN(s)===!0?100:s),r&&t.value===!0&&(p!==void 0&&r.removeEventListener("scroll",p,R),r.addEventListener("scroll",u,R))}function g(s){if(A.value===!0){if(f.value===null){s!==!0&&Te(()=>{g(!0)});return}const p=`${l.value===!0?"un":""}pauseAnimations`;Array.from(f.value.getElementsByTagName("svg")).forEach(y=>{y[p]()})}}const A=x(()=>e.disable!==!0&&t.value===!0);D([l,A],()=>{g()}),D(()=>e.disable,s=>{s===!0?k():C()}),D(()=>e.reverse,()=>{l.value===!1&&t.value===!0&&I()}),D(()=>e.scrollTarget,h),D(()=>e.debounce,o);let $=!1;ut(()=>{$!==!1&&r&&re(r,$)}),ct(()=>{$=r?le(r):!1}),K(()=>{t.value===!0&&r.removeEventListener("scroll",u,R)}),_e(()=>{o(e.debounce),h(),l.value===!1&&g()});const F=ve();return Object.assign(F.proxy,{poll:()=>{u?.()},trigger:Q,stop:k,reset:w,resume:C,setIndex:S,updateScrollTarget:h}),()=>{const s=Oe(i.default,[]);return A.value===!0&&s[e.reverse===!1?"push":"unshift"](V("div",{ref:f,class:P.value},ge(i.loading))),V("div",{class:"q-infinite-scroll",ref:v},s)}}}),Ut={class:"relative"},Wt={key:0,class:"absolute top-0 right-0 w-2 h-2 bg-primary ring-2 ring-gray-50 dark:ring-slate-800 rounded-full"},Kt={class:"flex justify-between items-center flex-nowrap py-3 px-4"},Gt={class:"flex items-center gap-2"},Jt={class:"text-lg font-medium"},Xt=["title"],Yt={key:0},Zt={class:"flex flex-nowrap w-full gap-3"},ea={class:"bg-gray-50 text-dark p-3"},ta={class:"w-full"},aa={class:"flex justify-between items-center w-full gap-2 mt-1"},sa={class:"group-hover:opacity-100 opacity-0 flex items-center gap-2"},na=["onClick"],oa=["onClick"],la={key:1,class:"flex justify-center items-center"},ra=["title"],ia={class:"row justify-center q-my-md"},ua={__name:"Notifications",setup(e){T(!1);const i=he(),{truncate:d}=Be(),{t:l}=qe(),t=T([]),{data:v,options:f,fetch:m,loading:r}=Lt("notifications",{onSuccess(){P()}}),u=x(()=>t.value.filter(s=>s.read_at===null).length);function P(){t.value=[...t.value,...v.value]}const I=async(s,p)=>{if(k.value!==0&&(k.value=0),t.value.length===f.pagination.rowsNumber&&t.value.length>0){p(!0);return}if(f.pagination.page=s,await m(),P(),s>f.pagination.rowsNumber/f.pagination.rowsPerPage){p(!0);return}p()},{execute:Q}=J({config:{url:"notifications/mark-all-as-read",method:"PUT"},async onSuccess(){await m(),t.value=[],P(),i.notify({type:"positive",message:l("success"),caption:l("notifications.marked_all_as_read_success"),position:"bottom-right",timeout:3e3})},onError(s){i.notify({type:"negative",message:l("error"),caption:s.response.data.message??l("something_went_wrong_error_msg"),closeBtn:!0,timeout:3e3})}}),w=T({}),{execute:C}=J({config:{method:"PUT"},async onSuccess(){await m(),t.value=[],P()},onError(){i.notify({message:l("error"),caption:l("something_went_wrong_error_msg"),position:"bottom-right",closeable:!0,type:"error"})}}),k=T(null),{execute:h}=J({config:{method:"GET"},onSuccess(s){k.value=s.data.data.unreceived_notifications_count},onError(s){i.notify({type:"negative",message:l("error"),caption:s.response.data.message??l("something_went_wrong_error_msg"),closeBtn:!0,timeout:3e3})}});T({}),J({config:{method:"DELETE"},onSuccess(){i.notify({type:"positive",message:l("success"),caption:l("notifications.deleted_success"),position:"bottom-right",timeout:3e3}),m()},onError(s){i.notify({type:"negative",message:l("error"),caption:s.response.data.message??l("something_went_wrong_error_msg"),closeBtn:!0,timeout:3e3})}});const S=async s=>{w.value={[s]:!0},await C({config:{url:`notifications/${s}/mark-as-read`}}),delete w.value[s]},o=async()=>{await h({config:{url:"notifications/unreceived-notifications"}})};T(null);const g=async s=>{i.dialog({component:DeleteDialog,progress:!0,componentProps:{resource:"notifications",name:s.name,id:s.id}}).onOk(async()=>{f.pagination.page=1,await m(),t.value=[],P()}).onCancel(()=>{})};_e(()=>{o(),$()});let A=null;const $=()=>{A=setInterval(()=>{o()},2e4)},F=()=>{clearInterval(A)};return K(()=>{F()}),(s,p)=>(_(),E(ee,{padding:"sm",size:"sm",unelevated:""},{default:n(()=>[c("span",Ut,[a(z,{name:"sym_r_notifications"}),k.value>0?(_(),H("span",Wt)):Y("",!0)]),(_(),E(ft,null,[a(Ve,{offset:[0,6],class:"w-96 max-h-[500px] rounded-lg shadow-lg border dark:border-gray-700","transition-show":"jump-down","transition-hide":"jump-up"},{default:n(()=>[c("div",Kt,[c("div",Gt,[c("h3",Jt,b(s.$t("notifications.title")),1),u.value>0?(_(),E(Ct,{key:0,class:"bg-blue-100 rounded-full py-1 text-blue-500 maw-h-0",label:u.value},null,8,["label"])):Y("",!0)]),c("div",null,[c("a",{role:"button",class:"text-primary text-sm font-medium",onClick:p[0]||(p[0]=y=>q(Q)()),title:s.$t("notifications.mark_all_as_read")},[a(z,{name:"sym_r_done_all",class:"text-sm me-1"}),O(" "+b(q(d)(s.$t("notifications.mark_all_as_read"),12)),1)],8,Xt)])]),a(me),a(pe,{dense:"",class:""},{default:n(()=>[a(Ft,{onLoad:I,offset:250},{loading:n(()=>[c("div",ia,[a(mt,{class:"text-blue-500",size:"30px"})])]),default:n(()=>[t.value.length>0?(_(),H("div",Yt,[(_(!0),H(Ne,null,ze(t.value,(y,j)=>(_(),E(W,{key:`notification-${j}`,clickable:y.data.link!==null,class:Ae(["py-4 border-b group w-full",y.read_at==null?"bg-slate-100 dark:bg-slate-700":""]),target:"_blank",href:y.data.link,onClick:B=>S(y.id)},{default:n(()=>[a(N,{class:"w-full"},{default:n(()=>[c("div",Zt,[a(Z,null,{default:n(()=>[c("div",ea,[a(z,{name:"sym_r_settings",size:"27px"})])]),_:1}),c("div",ta,[a(ue,{class:"font-medium"},{default:n(()=>[O(b(y.data.title),1)]),_:2},1024),a(ue,{caption:""},{default:n(()=>[O(b(y.data.body),1)]),_:2},1024),c("div",aa,[a(ue,{caption:""},{default:n(()=>[O(b(y.created_at),1)]),_:2},1024),c("div",sa,[c("button",{class:"border-0 bg-transparent hover:text-blue-500 transition-all ease-in-out duration-150 text-xs",onClick:$e(B=>g(y.id),["self"])},[a(z,{name:"sym_r_done_all",size:"xs"}),a(fe,{anchor:"top middle",self:"center middle"},{default:n(()=>[O(b(s.$t("notifications.mark_as_read")),1)]),_:1})],8,na),c("button",{class:"border-0 bg-transparent hover:text-red-500 transition-all ease-in-out duration-150 text-xs",onClick:$e(B=>g(y.id),["self"])},[a(z,{name:"sym_r_delete",size:"xs"}),a(fe,{anchor:"top middle",self:"center middle"},{default:n(()=>[O(b(s.$t("notifications.delete")),1)]),_:1})],8,oa)])])])])]),_:2},1024)]),_:2},1032,["clickable","href","onClick","class"]))),128))])):!q(r)&&t.value.length==0?(_(),H("div",la,[a(de,{src:"/src/img/no-notifications.png",class:"w-3/5"}),c("div",{class:"text-gray-600 dark:text-gray-400 text-lg mt-2 mb-5",title:s.$t("notifications.no_notifications")},b(q(d)(s.$t("notifications.no_notifications"),40)),9,ra)])):Y("",!0)]),_:1})]),_:1})]),_:1})],1024))]),_:1}))}},ca={key:0},da={key:1},fa={class:"mr-2"},ma={__name:"Header",props:{drawer:{type:Boolean}},emits:["toggleDrawer"],setup(e,{emit:i}){const d=he(),l=i,t=()=>{d.dark.toggle(),localStorage.setItem("dark",d.dark.isActive)},v=()=>{l("toggleDrawer")};return(f,m)=>(_(),E(jt,{class:Ae([{"bg-gray-50 text-gray-700":!q(d).dark.isActive,"bg-dark text-gray-300":q(d).dark.isActive},"shadow-sm"])},{default:n(()=>[a(Rt,null,{default:n(()=>[a(ee,{dense:"",flat:"",size:"sm",padding:"sm",icon:"sym_r_menu",onClick:v},{default:n(()=>[q(d).screen.gt.sm?(_(),E(fe,{key:0,anchor:"center end",self:"center middle",offset:[63,10]},{default:n(()=>[e.drawer?(_(),H("span",ca,b(f.$t("close_sidebar")),1)):(_(),H("span",da,b(f.$t("open_sidebar")),1))]),_:1})):Y("",!0)]),_:1}),a(Qt),c("div",fa,[a(ua)]),c("div",null,[a(ee,{dense:"",flat:"",size:"sm",padding:"sm",icon:q(d).dark.isActive?"sym_r_light_mode":"sym_r_dark_mode",onClick:t},null,8,["icon"])])]),_:1})]),_:1},8,["class"]))}},va={class:"w-full p-3 flex"},ga={__name:"LinkItem",props:{item:{type:Object,required:!0}},setup(e){return(i,d)=>X((_(),E(W,{clickable:"",exact:!!e.item.exact,to:e.item.route,"active-class":"bg-primary-50 text-primary !dark:text-primary border-l-primary",class:"rounded-md hover:bg-primary-50 hover:text-primary p-0"},{default:n(()=>[c("div",va,[a(N,{class:"m-0 p-0 w-fit",avatar:""},{default:n(()=>[a(z,{name:e.item.icon},null,8,["name"])]),_:1}),a(N,{class:"m-0 p-0 w-fit"},{default:n(()=>[O(b(i.$t(e.item.label)),1)]),_:1})])]),_:1},8,["exact","to"])),[[vt]])}},_a={class:"p-3 ps-4 pb-2"},ha={href:"/"},pa={class:"flex flex-nowrap items-center gap-3 text-center md:text-start"},ya={class:"gt-lg inline text-2xl text-bold"},ba={__name:"MainLayout",setup(e){const i=T(!0),d=()=>{i.value=!i.value},{t:l}=qe(),t=he(),v=x(()=>[{label:"dashboard",icon:"sym_r_dashboard",route:{name:"dashboard"},exact:!0},{label:"servers.title",icon:"sym_r_host",route:{name:"servers.index"}},{label:"databases.title",icon:"sym_r_database",route:{name:"databases.index"}},{label:"security_groups.title",icon:"sym_r_security",route:{name:"security-groups"}},{label:"ssh_keys.title",icon:"sym_r_key",route:{name:"ssh-keys"}}]),f=x(()=>[{label:"dashboard",icon:"sym_r_dashboard",route:{name:"admin.dashboard"},exact:!0},{label:"users.title",icon:"sym_r_group",route:{name:"admin.users"}},{label:"servers.title",icon:"sym_r_host",route:{name:"admin.servers.index"}},{label:"databases.title",icon:"sym_r_database",route:{name:"admin.databases.index"}},{label:"security_groups.title",icon:"sym_r_security",route:{name:"admin.security-groups"}},{label:"ssh_keys.title",icon:"sym_r_key",route:{name:"admin.ssh-keys"}},{label:"monitoring",icon:"sym_r_vital_signs",route:{name:"admin.monitoring"}}]),m={en:ht,de:Dt,fr:It,es:Et},r=Ee(),u=T(null),P=T(""),I=x(()=>u.value&&u.value.role?.value==="admin"?f.value:v.value),Q=x(()=>u.value&&u.value.preferences?u.value.preferences:[]),w=ce(()=>{if(Q.value&&Q.value.length){const S=Q.value[0]?.preferences?.theme??"auto";localStorage.setItem("dark",S);return}const h=localStorage.getItem("dark")??"auto";localStorage.setItem("dark",h)}),C=ce(()=>{const h=localStorage.getItem("dark");if(h==="auto"){t.dark.set(h);return}const S=JSON.parse(h)??"auto";t.dark.set(S)}),k=ce(()=>{const h=Q.value[0]?.preferences?.language??localStorage.getItem("language");h&&(_t.global.locale.value=h,t.lang.set(m[h]))});return _e(()=>{u.value=r.user,P.value="Futurixtech",w(),C(),k()}),(h,S)=>{const o=He("router-view");return _(),E(wt,{view:"lHh Lpr lFf",container:"",class:"h-screen overflow-hidden bg-gray-100 dark:bg-slate-900"},{default:n(()=>[a(ma,{drawer:i.value,onToggleDrawer:d},null,8,["drawer"]),a(pt,{"show-if-above":"",modelValue:i.value,"onUpdate:modelValue":S[0]||(S[0]=g=>i.value=g),width:290,breakpoint:600,class:"bg-white dark:bg-slate-800 shadow-md dark:shadow-slate-600 flex flex-col"},{default:n(()=>[c("div",_a,[c("a",ha,[c("div",pa,[a(Z,{size:"lg"},{default:n(()=>[...S[1]||(S[1]=[c("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo.svg"},null,-1)])]),_:1}),c("span",ya,b(P.value),1)])])]),a(pe,{padding:"",class:"px-2 mt-4"},{default:n(()=>[(_(!0),H(Ne,null,ze(I.value,g=>(_(),E(ga,{key:g.label,item:g},null,8,["item"]))),128))]),_:1}),a(Mt,{class:"mt-auto",user:u.value},null,8,["user"])]),_:1},8,["modelValue"]),a(bt,null,{default:n(()=>[a(o)]),_:1})]),_:1})}}},wa=gt(ba,[["__scopeId","data-v-231f7ebb"]]),Aa={__name:"indexView",setup(e){return(i,d)=>{const l=He("RouterView");return _(),E(wa,null,{default:n(()=>[a(l)]),_:1})}}};export{Aa as default};
