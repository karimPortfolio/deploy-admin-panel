import{m as qe,x as h,I as f,J as Le,r as De,O as ha,Q as ft,aq as mt,ar as gt,s as ya,v as j,D as Z,H as ba,P as Ht,as as Kt,U as ht,R as Sa,S as wa,E as Gt,at as ea,au as _a,av as Ca,aw as Ma,ax as jt,ay as Vt,az as Bt,aA as ta,Y as vt,aB as qa,aC as xt,aD as Ee,k as L,e as aa,ap as Da,aE as la,ac as xa,aF as ka,aG as Pa,T as Xe,aH as pa,ad as $t,ae as na,c as Ce,o as G,aI as Oa,a4 as Ft,w as ae,ak as Va,ag as $a,ah as Fa,b as A,d as Ya,aJ as Ra,aK as Ta,j as fe,aj as Ha,i as de,a as ja,af as Yt,ai as Ba,al as Ia,$ as Ea,aL as La,f as Ge,a1 as Na,l as Aa,t as It,a3 as Et,aM as Qa,a5 as za}from"./app-CVo2F_W3.js";import{Q as Ua,C as Za}from"./ClosePopup-CbTDksMi.js";import{u as Wa,a as Ja,c as oa,Q as ra}from"./QSelect-BsTDJULy.js";import{i as Xa,e as Ka,b as Ga,Q as el,a as tl}from"./QMenu-Bv4-7jnn.js";import{Q as al}from"./QDrawer-BZwB_FoC.js";import{p as Y}from"./format-BOf40pHW.js";const fn=qe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const o=De(),i=h(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:i.value},Le(a.default));const r=o.vnode.key,u=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(u===void 0)return;const{row:g}=e.props;return f("td",{class:i.value+u.__tdClass(g),style:u.__tdStyle(g)},Le(a.default))}}}),ll=qe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:o}){const i=De(),{proxy:{$q:r}}=i,u=g=>{o("click",g)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:u},Le(a.default));let g,s;const m=i.vnode.key;if(m){if(g=e.props.colsMap[m],g===void 0)return}else g=e.props.col;if(g.sortable===!0){const n=g.align==="right"?"unshift":"push";s=ha(a.default,[]),s[n](f(ft,{class:g.__iconClass,name:r.iconSet.table.arrowUp}))}else s=Le(a.default);const y={class:g.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:g.headerStyle,onClick:n=>{g.sortable===!0&&e.props.sort(g),u(n)}};return f("th",y,s)}}}),nl=["horizontal","vertical","cell","none"],ol=qe({name:"QMarkupTable",props:{...mt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>nl.includes(e)}},setup(e,{slots:a}){const o=De(),i=gt(e,o.proxy.$q),r=h(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>f("div",{class:r.value},[f("table",{class:"q-table"},Le(a.default))])}});function ua(e,a){return f("div",e,[f("table",{class:"q-table"},a)])}const rl={list:Ua,table:ol},ul=["list","table","__qtable"],il=qe({name:"QVirtualScroll",props:{...Wa,type:{type:String,default:"list",validator:e=>ul.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:ya},setup(e,{slots:a,attrs:o}){let i;const r=j(null),u=h(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:g,localResetVirtualScroll:s,padVirtualScroll:m,onVirtualScrollEvt:y}=Ja({virtualScrollLength:u,getVirtualScrollTarget:k,getVirtualScrollEl:P}),n=h(()=>{if(u.value===0)return[];const X=(I,C)=>({index:g.value.from+C,item:I});return e.itemsFn===void 0?e.items.slice(g.value.from,g.value.to).map(X):e.itemsFn(g.value.from,g.value.to-g.value.from).map(X)}),v=h(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),q=h(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Z(u,()=>{s()}),Z(()=>e.scrollTarget,()=>{S(),M()});function P(){return r.value.$el||r.value}function k(){return i}function M(){i=ba(P(),e.scrollTarget),i.addEventListener("scroll",y,Ht.passive)}function S(){i!==void 0&&(i.removeEventListener("scroll",y,Ht.passive),i=void 0)}function Q(){let X=m(e.type==="list"?"div":"tbody",n.value.map(a.default));return a.before!==void 0&&(X=a.before().concat(X)),ea(a.after,X)}return Kt(()=>{s()}),ht(()=>{M()}),Sa(()=>{M()}),wa(()=>{S()}),Gt(()=>{S()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ua({ref:r,class:"q-table__middle "+v.value},Q()):f(rl[e.type],{...o,ref:r,class:[o.class,v.value],...q.value},Q)}}}),sl={xs:2,sm:4,md:6,lg:10,xl:14};function Lt(e,a,o){return{transform:a===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const cl=qe({name:"QLinearProgress",props:{...mt,..._a,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:o}=De(),i=gt(e,o.$q),r=Ca(e,sl),u=h(()=>e.indeterminate===!0||e.query===!0),g=h(()=>e.reverse!==e.query),s=h(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),m=h(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),y=h(()=>Lt(e.buffer!==void 0?e.buffer:1,g.value,o.$q)),n=h(()=>`with${e.instantFeedback===!0?"out":""}-transition`),v=h(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${n.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=h(()=>Lt(u.value===!0?1:e.value,g.value,o.$q)),P=h(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${n.value} q-linear-progress__model--${u.value===!0?"in":""}determinate`),k=h(()=>({width:`${e.value*100}%`})),M=h(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${n.value}`);return()=>{const S=[f("div",{class:v.value,style:y.value}),f("div",{class:P.value,style:q.value})];return e.stripe===!0&&u.value===!1&&S.push(f("div",{class:M.value,style:k.value})),f("div",{class:m.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ea(a.default,S))}}});let Ke=0;const dl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},vl=["update:fullscreen","fullscreen"];function fl(){const e=De(),{props:a,emit:o,proxy:i}=e;let r,u,g;const s=j(!1);Ma(e)===!0&&Z(()=>i.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&n()}),Z(()=>a.fullscreen,v=>{s.value!==v&&m()}),Z(s,v=>{o("update:fullscreen",v),o("fullscreen",v)});function m(){s.value===!0?n():y()}function y(){s.value!==!0&&(s.value=!0,g=i.$el.parentNode,g.replaceChild(u,i.$el),document.body.appendChild(i.$el),Ke++,Ke===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:n},jt.add(r))}function n(){s.value===!0&&(r!==void 0&&(jt.remove(r),r=void 0),g.replaceChild(i.$el,u),s.value=!1,Ke=Math.max(0,Ke-1),Ke===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return Kt(()=>{u=document.createElement("span")}),ht(()=>{a.fullscreen===!0&&y()}),Gt(n),Object.assign(i,{toggleFullscreen:m,setFullscreen:y,exitFullscreen:n}),{inFullscreen:s,toggleFullscreen:m}}function ml(e,a){return new Date(e)-new Date(a)}const gl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function hl(e,a,o,i){const r=h(()=>{const{sortBy:s}=a.value;return s&&o.value.find(m=>m.name===s)||null}),u=h(()=>e.sortMethod!==void 0?e.sortMethod:(s,m,y)=>{const n=o.value.find(P=>P.name===m);if(n===void 0||n.field===void 0)return s;const v=y===!0?-1:1,q=typeof n.field=="function"?P=>n.field(P):P=>P[n.field];return s.sort((P,k)=>{let M=q(P),S=q(k);return n.rawSort!==void 0?n.rawSort(M,S,P,k)*v:M==null?-1*v:S==null?1*v:n.sort!==void 0?n.sort(M,S,P,k)*v:Vt(M)===!0&&Vt(S)===!0?(M-S)*v:Bt(M)===!0&&Bt(S)===!0?ml(M,S)*v:typeof M=="boolean"&&typeof S=="boolean"?(M-S)*v:([M,S]=[M,S].map(Q=>(Q+"").toLocaleString().toLowerCase()),M<S?-1*v:M===S?0:v)})});function g(s){let m=e.columnSortOrder;if(ta(s)===!0)s.sortOrder&&(m=s.sortOrder),s=s.name;else{const v=o.value.find(q=>q.name===s);v?.sortOrder&&(m=v.sortOrder)}let{sortBy:y,descending:n}=a.value;y!==s?(y=s,n=m==="da"):e.binaryStateSort===!0?n=!n:n===!0?m==="ad"?y=null:n=!1:m==="ad"?n=!0:y=null,i({sortBy:y,descending:n,page:1})}return{columnToSort:r,computedSortMethod:u,sort:g}}const yl={filter:[String,Object],filterMethod:Function};function bl(e,a){const o=h(()=>e.filterMethod!==void 0?e.filterMethod:(i,r,u,g)=>{const s=r?r.toLowerCase():"";return i.filter(m=>u.some(y=>{const n=g(y,m)+"";return(n==="undefined"||n==="null"?"":n.toLowerCase()).indexOf(s)!==-1}))});return Z(()=>e.filter,()=>{vt(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function Sl(e,a){for(const o in a)if(a[o]!==e[o])return!1;return!0}function Nt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const wl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function _l(e,a){const{props:o,emit:i}=e,r=j(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length!==0?o.rowsPerPageOptions[0]:5},o.pagination)),u=h(()=>{const n=o["onUpdate:pagination"]!==void 0?{...r.value,...o.pagination}:r.value;return Nt(n)}),g=h(()=>u.value.rowsNumber!==void 0);function s(n){m({pagination:n,filter:o.filter})}function m(n={}){vt(()=>{i("request",{pagination:n.pagination||u.value,filter:n.filter||o.filter,getCellValue:a})})}function y(n,v){const q=Nt({...u.value,...n});if(Sl(u.value,q)===!0){g.value===!0&&v===!0&&s(q);return}if(g.value===!0){s(q);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?i("update:pagination",q):r.value=q}return{innerPagination:r,computedPagination:u,isServerSide:g,requestServerInteraction:m,setPagination:y}}function Cl(e,a,o,i,r,u){const{props:g,emit:s,proxy:{$q:m}}=e,y=h(()=>i.value===!0?o.value.rowsNumber||0:u.value),n=h(()=>{const{page:C,rowsPerPage:F}=o.value;return(C-1)*F}),v=h(()=>{const{page:C,rowsPerPage:F}=o.value;return C*F}),q=h(()=>o.value.page===1),P=h(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(y.value/o.value.rowsPerPage))),k=h(()=>v.value===0?!0:o.value.page>=P.value),M=h(()=>(g.rowsPerPageOptions.includes(a.value.rowsPerPage)?g.rowsPerPageOptions:[a.value.rowsPerPage].concat(g.rowsPerPageOptions)).map(F=>({label:F===0?m.lang.table.allRows:""+F,value:F})));Z(P,(C,F)=>{if(C===F)return;const xe=o.value.page;C&&!xe?r({page:1}):C<xe&&r({page:C})});function S(){r({page:1})}function Q(){const{page:C}=o.value;C>1&&r({page:C-1})}function X(){const{page:C,rowsPerPage:F}=o.value;v.value>0&&C*F<y.value&&r({page:C+1})}function I(){r({page:P.value})}return g["onUpdate:pagination"]!==void 0&&s("update:pagination",{...o.value}),{firstRowIndex:n,lastRowIndex:v,isFirstPage:q,isLastPage:k,pagesNumber:P,computedRowsPerPageOptions:M,computedRowsNumber:y,firstPage:S,prevPage:Q,nextPage:X,lastPage:I}}const Ml={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ql=["update:selected","selection"];function Dl(e,a,o,i){const r=h(()=>{const k={};return e.selected.map(i.value).forEach(M=>{k[M]=!0}),k}),u=h(()=>e.selection!=="none"),g=h(()=>e.selection==="single"),s=h(()=>e.selection==="multiple"),m=h(()=>o.value.length!==0&&o.value.every(k=>r.value[i.value(k)]===!0)),y=h(()=>m.value!==!0&&o.value.some(k=>r.value[i.value(k)]===!0)),n=h(()=>e.selected.length);function v(k){return r.value[k]===!0}function q(){a("update:selected",[])}function P(k,M,S,Q){a("selection",{rows:M,added:S,keys:k,evt:Q});const X=g.value===!0?S===!0?M:[]:S===!0?e.selected.concat(M):e.selected.filter(I=>k.includes(i.value(I))===!1);a("update:selected",X)}return{hasSelectionMode:u,singleSelection:g,multipleSelection:s,allRowsSelected:m,someRowsSelected:y,rowsSelectedNumber:n,isRowSelected:v,clearSelection:q,updateSelection:P}}function At(e){return Array.isArray(e)?e.slice():[]}const xl={expanded:Array},kl=["update:expanded"];function Pl(e,a){const o=j(At(e.expanded));Z(()=>e.expanded,g=>{o.value=At(g)});function i(g){return o.value.includes(g)}function r(g){e.expanded!==void 0?a("update:expanded",g):o.value=g}function u(g,s){const m=o.value.slice(),y=m.indexOf(g);s===!0?y===-1&&(m.push(g),r(m)):y!==-1&&(m.splice(y,1),r(m))}return{isRowExpanded:i,setExpanded:r,updateExpanded:u}}const pl={visibleColumns:Array};function Ol(e,a,o){const i=h(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(m=>({name:m,label:m.toUpperCase(),field:m,align:Vt(s[m])?"right":"left",sortable:!0})):[]}),r=h(()=>{const{sortBy:s,descending:m}=a.value;return(e.visibleColumns!==void 0?i.value.filter(n=>n.required===!0||e.visibleColumns.includes(n.name)===!0):i.value).map(n=>{const v=n.align||"right",q=`text-${v}`;return{...n,align:v,__iconClass:`q-table__sort-icon q-table__sort-icon--${v}`,__thClass:q+(n.headerClasses!==void 0?" "+n.headerClasses:"")+(n.sortable===!0?" sortable":"")+(n.name===s?` sorted ${m===!0?"sort-desc":""}`:""),__tdStyle:n.style!==void 0?typeof n.style!="function"?()=>n.style:n.style:()=>null,__tdClass:n.classes!==void 0?typeof n.classes!="function"?()=>q+" "+n.classes:P=>q+" "+n.classes(P):()=>q}})}),u=h(()=>{const s={};return r.value.forEach(m=>{s[m.name]=m}),s}),g=h(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(o.value===!0?1:0));return{colList:i,computedCols:r,computedColsMap:u,computedColspan:g}}const st="q-table__bottom row items-center",ia={};oa.forEach(e=>{ia[e]={}});const mn=qe({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...ia,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...mt,...dl,...pl,...yl,...wl,...xl,...Ml,...gl},emits:["request","virtualScroll",...vl,...kl,...ql],setup(e,{slots:a,emit:o}){const i=De(),{proxy:{$q:r}}=i,u=gt(e,r),{inFullscreen:g,toggleFullscreen:s}=fl(),m=h(()=>typeof e.rowKey=="function"?e.rowKey:c=>c[e.rowKey]),y=j(null),n=j(null),v=h(()=>e.grid!==!0&&e.virtualScroll===!0),q=h(()=>" q-table__card"+(u.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),P=h(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(u.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(g.value===!0?" fullscreen scroll":"")),k=h(()=>P.value+(e.loading===!0?" q-table--loading":""));Z(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+P.value,()=>{v.value===!0&&n.value?.reset()});const{innerPagination:M,computedPagination:S,isServerSide:Q,requestServerInteraction:X,setPagination:I}=_l(i,ie),{computedFilterMethod:C}=bl(e,I),{isRowExpanded:F,setExpanded:xe,updateExpanded:$e}=Pl(e,o),ke=h(()=>{let c=e.rows;if(Q.value===!0||c.length===0)return c;const{sortBy:_,descending:p}=S.value;return e.filter&&(c=C.value(c,e.filter,J.value,ie)),bt.value!==null&&(c=tt.value(e.rows===c?c.slice():c,_,p)),c}),Fe=h(()=>ke.value.length),K=h(()=>{let c=ke.value;if(Q.value===!0)return c;const{rowsPerPage:_}=S.value;return _!==0&&(Oe.value===0&&e.rows!==c?c.length>Ye.value&&(c=c.slice(0,Ye.value)):c=c.slice(Oe.value,Ye.value)),c}),{hasSelectionMode:E,singleSelection:yt,multipleSelection:ne,allRowsSelected:me,someRowsSelected:Pe,rowsSelectedNumber:pe,isRowSelected:W,clearSelection:ge,updateSelection:re}=Dl(e,o,K,m),{colList:Ne,computedCols:J,computedColsMap:Ae,computedColspan:et}=Ol(e,S,E),{columnToSort:bt,computedSortMethod:tt,sort:he}=hl(e,S,Ne,I),{firstRowIndex:Oe,lastRowIndex:Ye,isFirstPage:te,isLastPage:Qe,pagesNumber:N,computedRowsPerPageOptions:z,computedRowsNumber:ye,firstPage:be,prevPage:Re,nextPage:ue,lastPage:U}=Cl(i,M,S,Q,I,Fe),St=h(()=>K.value.length===0),wt=h(()=>{const c={};return oa.forEach(_=>{c[_]=e[_]}),c.virtualScrollItemSize===void 0&&(c.virtualScrollItemSize=e.dense===!0?28:48),c});function _t(){v.value===!0&&n.value.reset()}function at(){if(e.grid===!0)return We();const c=e.hideHeader!==!0?rt:null;if(v.value===!0){const p=a["top-row"],x=a["bottom-row"],O={default:B=>lt(B.item,a.body,B.index)};if(p!==void 0){const B=f("tbody",p({cols:J.value}));O.before=c===null?()=>B:()=>[c()].concat(B)}else c!==null&&(O.before=c);return x!==void 0&&(O.after=()=>f("tbody",x({cols:J.value}))),f(il,{ref:n,class:e.tableClass,style:e.tableStyle,...wt.value,scrollTarget:e.virtualScrollTarget,items:K.value,type:"__qtable",tableColspan:et.value,onVirtualScroll:ze},O)}const _=[Mt()];return c!==null&&_.unshift(c()),ua({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},_)}function Ct(c,_){if(n.value!==null){n.value.scrollTo(c,_);return}c=parseInt(c,10);const p=y.value.querySelector(`tbody tr:nth-of-type(${c+1})`);if(p!==null){const x=y.value.querySelector(".q-table__middle.scroll"),O=p.offsetTop-e.virtualScrollStickySizeStart,B=O<x.scrollTop?"decrease":"increase";x.scrollTop=O,o("virtualScroll",{index:c,from:0,to:M.value.rowsPerPage-1,direction:B})}}function ze(c){o("virtualScroll",c)}function Ue(){return[f(cl,{class:"q-table__linear-progress",color:e.color,dark:u.value,indeterminate:!0,trackColor:"transparent"})]}function lt(c,_,p){const x=m.value(c),O=W(x);if(_!==void 0){const l={key:x,row:c,pageIndex:p,__trClass:O?"selected":""};if(e.tableRowStyleFn!==void 0&&(l.__trStyle=e.tableRowStyleFn(c)),e.tableRowClassFn!==void 0){const d=e.tableRowClassFn(c);d&&(l.__trClass=`${d} ${l.__trClass}`)}return _(Te(l))}const B=a["body-cell"],H=J.value.map(l=>{const d=a[`body-cell-${l.name}`],b=d!==void 0?d:B;return b!==void 0?b(qt({key:x,row:c,pageIndex:p,col:l})):f("td",{class:l.__tdClass(c),style:l.__tdStyle(c)},ie(l,c))});if(E.value===!0){const l=a["body-selection"],d=l!==void 0?l(nt({key:x,row:c,pageIndex:p})):[f(xt,{modelValue:O,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(b,w)=>{re([x],[c],b,w)}})];H.unshift(f("td",{class:"q-table--col-auto-width"},d))}const t={key:x,class:{selected:O}};if(e.onRowClick!==void 0&&(t.class["cursor-pointer"]=!0,t.onClick=l=>{o("rowClick",l,c,p)}),e.onRowDblclick!==void 0&&(t.class["cursor-pointer"]=!0,t.onDblclick=l=>{o("rowDblclick",l,c,p)}),e.onRowContextmenu!==void 0&&(t.class["cursor-pointer"]=!0,t.onContextmenu=l=>{o("rowContextmenu",l,c,p)}),e.tableRowStyleFn!==void 0&&(t.style=e.tableRowStyleFn(c)),e.tableRowClassFn!==void 0){const l=e.tableRowClassFn(c);l&&(t.class[l]=!0)}return f("tr",t,H)}function Mt(){const c=a.body,_=a["top-row"],p=a["bottom-row"];let x=K.value.map((O,B)=>lt(O,c,B));return _!==void 0&&(x=_({cols:J.value}).concat(x)),p!==void 0&&(x=x.concat(p({cols:J.value}))),f("tbody",x)}function Te(c){return Ve(c),c.cols=c.cols.map(_=>Ee({..._},"value",()=>ie(_,c.row))),c}function qt(c){return Ve(c),Ee(c,"value",()=>ie(c.col,c.row)),c}function nt(c){return Ve(c),c}function Ve(c){Object.assign(c,{cols:J.value,colsMap:Ae.value,sort:he,rowIndex:Oe.value+c.pageIndex,color:e.color,dark:u.value,dense:e.dense}),E.value===!0&&Ee(c,"selected",()=>W(c.key),(_,p)=>{re([c.key],[c.row],_,p)}),Ee(c,"expand",()=>F(c.key),_=>{$e(c.key,_)})}function ie(c,_){const p=typeof c.field=="function"?c.field(_):_[c.field];return c.format!==void 0?c.format(p,_):p}const se=h(()=>({pagination:S.value,pagesNumber:N.value,isFirstPage:te.value,isLastPage:Qe.value,firstPage:be,prevPage:Re,nextPage:ue,lastPage:U,inFullscreen:g.value,toggleFullscreen:s}));function ot(){const c=a.top,_=a["top-left"],p=a["top-right"],x=a["top-selection"],O=E.value===!0&&x!==void 0&&pe.value>0,B="q-table__top relative-position row items-center";if(c!==void 0)return f("div",{class:B},[c(se.value)]);let H;if(O===!0?H=x(se.value).slice():(H=[],_!==void 0?H.push(f("div",{class:"q-table__control"},[_(se.value)])):e.title&&H.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),p!==void 0&&(H.push(f("div",{class:"q-table__separator col"})),H.push(f("div",{class:"q-table__control"},[p(se.value)]))),H.length!==0)return f("div",{class:B},H)}const He=h(()=>Pe.value===!0?null:me.value);function rt(){const c=Dt();return e.loading===!0&&a.loading===void 0&&c.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:et.value},Ue())])),f("thead",c)}function Dt(){const c=a.header,_=a["header-cell"];if(c!==void 0)return c(Ze({header:!0})).slice();const p=J.value.map(x=>{const O=a[`header-cell-${x.name}`],B=O!==void 0?O:_,H=Ze({col:x});return B!==void 0?B(H):f(ll,{key:x.name,props:H},()=>x.label)});if(yt.value===!0&&e.grid!==!0)p.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(ne.value===!0){const x=a["header-selection"],O=x!==void 0?x(Ze({})):[f(xt,{color:e.color,modelValue:He.value,dark:u.value,dense:e.dense,"onUpdate:modelValue":oe})];p.unshift(f("th",{class:"q-table--col-auto-width"},O))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},p)]}function Ze(c){return Object.assign(c,{cols:J.value,sort:he,colsMap:Ae.value,color:e.color,dark:u.value,dense:e.dense}),ne.value===!0&&Ee(c,"selected",()=>He.value,oe),c}function oe(c){Pe.value===!0&&(c=!1),re(K.value.map(m.value),K.value,c)}const le=h(()=>{const c=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?c.reverse():c});function ut(){if(e.hideBottom===!0)return;if(St.value===!0){if(e.hideNoData===!0)return;const p=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,x=a["no-data"],O=x!==void 0?[x({message:p,icon:r.iconSet.table.warning,filter:e.filter})]:[f(ft,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),p];return f("div",{class:st+" q-table__bottom--nodata"},O)}const c=a.bottom;if(c!==void 0)return f("div",{class:st},[c(se.value)]);const _=e.hideSelectedBanner!==!0&&E.value===!0&&pe.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(pe.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:st+" justify-end"},it(_));if(_.length!==0)return f("div",{class:st},_)}function je(c){I({page:1,rowsPerPage:c.value})}function it(c){let _;const{rowsPerPage:p}=S.value,x=e.paginationLabel||r.lang.table.pagination,O=a.pagination,B=e.rowsPerPageOptions.length>1;if(c.push(f("div",{class:"q-table__separator col"})),B===!0&&c.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),f(ra,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:p,options:z.value,displayValue:p===0?r.lang.table.allRows:p,dark:u.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":je})])),O!==void 0)_=O(se.value);else if(_=[f("span",p!==0?{class:"q-table__bottom-item"}:{},[p?x(Oe.value+1,Math.min(Ye.value,ye.value),ye.value):x(1,Fe.value,ye.value)])],p!==0&&N.value>1){const H={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(H.size="sm"),N.value>2&&_.push(f(L,{key:"pgFirst",...H,icon:le.value[0],disable:te.value,"aria-label":r.lang.pagination.first,onClick:be})),_.push(f(L,{key:"pgPrev",...H,icon:le.value[1],disable:te.value,"aria-label":r.lang.pagination.prev,onClick:Re}),f(L,{key:"pgNext",...H,icon:le.value[2],disable:Qe.value,"aria-label":r.lang.pagination.next,onClick:ue})),N.value>2&&_.push(f(L,{key:"pgLast",...H,icon:le.value[3],disable:Qe.value,"aria-label":r.lang.pagination.last,onClick:U}))}return c.push(f("div",{class:"q-table__control"},_)),c}function Se(){const c=e.gridHeader===!0?[f("table",{class:"q-table"},[rt()])]:e.loading===!0&&a.loading===void 0?Ue():void 0;return f("div",{class:"q-table__middle"},c)}function We(){const c=a.item!==void 0?a.item:_=>{const p=_.cols.map(O=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[O.label]),f("div",{class:"q-table__grid-item-value"},[O.value])]));if(E.value===!0){const O=a["body-selection"],B=O!==void 0?O(_):[f(xt,{modelValue:_.selected,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(H,t)=>{re([_.key],[_.row],H,t)}})];p.unshift(f("div",{class:"q-table__grid-item-row"},B),f(aa,{dark:u.value}))}const x={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(x.style=[x.style,e.cardStyleFn(_.row)]),e.cardClassFn!==void 0){const O=e.cardClassFn(_.row);O&&(x.class[0]+=` ${O}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(x.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(x.onClick=O=>{o("RowClick",O,_.row,_.pageIndex)}),e.onRowDblclick!==void 0&&(x.onDblclick=O=>{o("RowDblclick",O,_.row,_.pageIndex)}),e.onRowContextmenu!==void 0&&(x.onContextmenu=O=>{o("rowContextmenu",O,_.row,_.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(_.selected===!0?" q-table__grid-item--selected":"")},[f("div",x,p)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},K.value.map((_,p)=>c(Te({key:m.value(_),row:_,pageIndex:p}))))}return Object.assign(i.proxy,{requestServerInteraction:X,setPagination:I,firstPage:be,prevPage:Re,nextPage:ue,lastPage:U,isRowSelected:W,clearSelection:ge,isRowExpanded:F,setExpanded:xe,sort:he,resetVirtualScroll:_t,scrollTo:Ct,getCellValue:ie}),qa(i.proxy,{filteredSortedRows:()=>ke.value,computedRows:()=>K.value,computedRowsNumber:()=>ye.value}),()=>{const c=[ot()],_={ref:y,class:k.value};return e.grid===!0?c.push(Se()):Object.assign(_,{class:[_.class,e.cardClass],style:e.cardStyle}),c.push(at(),ut()),e.loading===!0&&a.loading!==void 0&&c.push(a.loading()),f("div",_,c)}}}),sa=qe({name:"QPopupProxy",props:{...Xa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:i}){const{proxy:r}=De(),{$q:u}=r,g=j(!1),s=j(null),m=h(()=>parseInt(e.breakpoint,10)),{canShow:y}=Ka({showing:g});function n(){return u.screen.width<m.value||u.screen.height<m.value?"dialog":"menu"}const v=j(n()),q=h(()=>v.value==="menu"?{maxHeight:"99vh"}:{});Z(()=>n(),M=>{g.value!==!0&&(v.value=M)});function P(M){g.value=!0,o("show",M)}function k(M){g.value=!1,v.value=n(),o("hide",M)}return Object.assign(r,{show(M){y(M)===!0&&s.value.show(M)},hide(M){s.value.hide(M)},toggle(M){s.value.toggle(M)}}),Ee(r,"currentComponent",()=>({type:v.value,ref:s.value})),()=>{const M={ref:s,...q.value,...i,onShow:P,onHide:k};let S;return v.value==="dialog"?S=Da:(S=Ga,Object.assign(M,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),f(S,M,a.default)}}});function Vl(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const Me=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function $l(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Tl(Tt(e,a,o))}function Qt(e,a,o){return da(Rl(e,a,o))}function Fl(e){return Yl(e)===0}function dt(e,a){return a<=6?31:a<=11||Fl(e)?30:29}function Yl(e){const a=Me.length;let o=Me[0],i,r,u,g,s;if(e<o||e>=Me[a-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<a&&(i=Me[s],r=i-o,!(e<i));s+=1)o=i;return g=e-o,r-g<6&&(g=g-r+T(r+4,33)*33),u=ee(ee(g+1,33)-1,4),u===-1&&(u=4),u}function ca(e,a){const o=Me.length,i=e+621;let r=-14,u=Me[0],g,s,m,y,n;if(e<u||e>=Me[o-1])throw new Error("Invalid Jalaali year "+e);for(n=1;n<o&&(g=Me[n],s=g-u,!(e<g));n+=1)r=r+T(s,33)*8+T(ee(s,33),4),u=g;y=e-u,r=r+T(y,33)*8+T(ee(y,33)+3,4),ee(s,33)===4&&s-y===4&&(r+=1);const v=T(i,4)-T((T(i,100)+1)*3,4)-150,q=20+r-v;return a||(s-y<6&&(y=y-s+T(s+4,33)*33),m=ee(ee(y+1,33)-1,4),m===-1&&(m=4)),{leap:m,gy:i,march:q}}function Rl(e,a,o){const i=ca(e,!0);return Tt(i.gy,3,i.march)+(a-1)*31-T(a,7)*(a-7)+o-1}function Tl(e){const a=da(e).gy;let o=a-621,i,r,u;const g=ca(o,!1),s=Tt(a,3,g.march);if(u=e-s,u>=0){if(u<=185)return r=1+T(u,31),i=ee(u,31)+1,{jy:o,jm:r,jd:i};u-=186}else o-=1,u+=179,g.leap===1&&(u+=1);return r=7+T(u,30),i=ee(u,30)+1,{jy:o,jm:r,jd:i}}function Tt(e,a,o){let i=T((e+T(a-8,6)+100100)*1461,4)+T(153*ee(a+9,12)+2,5)+o-34840408;return i=i-T(T(e+100100+T(a-8,6),100)*3,4)+752,i}function da(e){let a=4*e+139361631;a=a+T(T(4*e+183187720,146097)*3,4)*4-3908;const o=T(ee(a,1461),4)*5+308,i=T(ee(o,153),5)+1,r=ee(T(o,153),12)+1;return{gy:T(a,1461)-100100+T(8-r,6),gm:r,gd:i}}function T(e,a){return~~(e/a)}function ee(e,a){return e-~~(e/a)*a}const Hl=["gregorian","persian"],zt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Hl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},jl=["update:modelValue"];function we(e){return e.year+"/"+Y(e.month)+"/"+Y(e.day)}function Bl(e,a){const o=h(()=>e.disable!==!0&&e.readonly!==!0),i=h(()=>o.value===!0?0:-1),r=h(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function u(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function g(s){const m=new Date,y=s===!0?null:0;if(e.calendar==="persian"){const n=$l(m);return{year:n.jy,month:n.jm,day:n.jd}}return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:y,minute:y,second:y,millisecond:y}}return{editable:o,tabindex:i,headerClass:r,getLocale:u,getCurrentDate:g}}const va=864e5,Il=36e5,Rt=6e4,fa="YYYY-MM-DDTHH:mm:ss.SSSZ",El=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ll=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,kt={};function Nl(e,a){const o="("+a.days.join("|")+")",i=e+o;if(kt[i]!==void 0)return kt[i];const r="("+a.daysShort.join("|")+")",u="("+a.months.join("|")+")",g="("+a.monthsShort.join("|")+")",s={};let m=0;const y=e.replace(Ll,v=>{switch(m++,v){case"YY":return s.YY=m,"(-?\\d{1,2})";case"YYYY":return s.YYYY=m,"(-?\\d{1,4})";case"M":return s.M=m,"(\\d{1,2})";case"Mo":return s.M=m++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return s.M=m,"(\\d{2})";case"MMM":return s.MMM=m,g;case"MMMM":return s.MMMM=m,u;case"D":return s.D=m,"(\\d{1,2})";case"Do":return s.D=m++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=m,"(\\d{2})";case"H":return s.H=m,"(\\d{1,2})";case"HH":return s.H=m,"(\\d{2})";case"h":return s.h=m,"(\\d{1,2})";case"hh":return s.h=m,"(\\d{2})";case"m":return s.m=m,"(\\d{1,2})";case"mm":return s.m=m,"(\\d{2})";case"s":return s.s=m,"(\\d{1,2})";case"ss":return s.s=m,"(\\d{2})";case"S":return s.S=m,"(\\d{1})";case"SS":return s.S=m,"(\\d{2})";case"SSS":return s.S=m,"(\\d{3})";case"A":return s.A=m,"(AM|PM)";case"a":return s.a=m,"(am|pm)";case"aa":return s.aa=m,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"do":return m++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return m++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return m++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return s.Z=m,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=m,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=m,"(-?\\d+)";case"x":return s.x=m,"(-?\\d{4,})";default:return m--,v[0]==="["&&(v=v.substring(1,v.length-1)),v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),n={map:s,regex:new RegExp("^"+y)};return kt[i]=n,n}function ma(e,a){return e!==void 0?e:a!==void 0?a.date:xa.date}function Ut(e,a=""){const o=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),u=i%60;return o+Y(r)+a+Y(u)}function Al(e,a,o,i,r){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(u,r),e==null||e===""||typeof e!="string")return u;a===void 0&&(a=fa);const g=ma(o,la.props),s=g.months,m=g.monthsShort,{regex:y,map:n}=Nl(a,g),v=e.match(y);if(v===null)return u;let q="";if(n.X!==void 0||n.x!==void 0){const P=parseInt(v[n.X!==void 0?n.X:n.x],10);if(isNaN(P)===!0||P<0)return u;const k=new Date(P*(n.X!==void 0?1e3:1));u.year=k.getFullYear(),u.month=k.getMonth()+1,u.day=k.getDate(),u.hour=k.getHours(),u.minute=k.getMinutes(),u.second=k.getSeconds(),u.millisecond=k.getMilliseconds()}else{if(n.YYYY!==void 0)u.year=parseInt(v[n.YYYY],10);else if(n.YY!==void 0){const P=parseInt(v[n.YY],10);u.year=P<0?P:2e3+P}if(n.M!==void 0){if(u.month=parseInt(v[n.M],10),u.month<1||u.month>12)return u}else n.MMM!==void 0?u.month=m.indexOf(v[n.MMM])+1:n.MMMM!==void 0&&(u.month=s.indexOf(v[n.MMMM])+1);if(n.D!==void 0){if(u.day=parseInt(v[n.D],10),u.year===null||u.month===null||u.day<1)return u;const P=i!=="persian"?new Date(u.year,u.month,0).getDate():dt(u.year,u.month);if(u.day>P)return u}n.H!==void 0?u.hour=parseInt(v[n.H],10)%24:n.h!==void 0&&(u.hour=parseInt(v[n.h],10)%12,(n.A&&v[n.A]==="PM"||n.a&&v[n.a]==="pm"||n.aa&&v[n.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),n.m!==void 0&&(u.minute=parseInt(v[n.m],10)%60),n.s!==void 0&&(u.second=parseInt(v[n.s],10)%60),n.S!==void 0&&(u.millisecond=parseInt(v[n.S],10)*10**(3-v[n.S].length)),(n.Z!==void 0||n.ZZ!==void 0)&&(q=n.Z!==void 0?v[n.Z].replace(":",""):v[n.ZZ],u.timezoneOffset=(q[0]==="+"?-1:1)*(60*q.slice(1,3)+1*q.slice(3,5)))}return u.dateHash=Y(u.year,4)+"/"+Y(u.month)+"/"+Y(u.day),u.timeHash=Y(u.hour)+":"+Y(u.minute)+":"+Y(u.second)+q,u}function Pt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const i=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-i);const r=(a-o)/(va*7);return 1+Math.floor(r)}function ve(e,a,o){const i=new Date(e),r=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":i[`${r}Month`](0);case"month":case"months":i[`${r}Date`](1);case"day":case"days":case"date":i[`${r}Hours`](0);case"hour":case"hours":i[`${r}Minutes`](0);case"minute":case"minutes":i[`${r}Seconds`](0);case"second":case"seconds":i[`${r}Milliseconds`](0)}return i}function ct(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Rt-(a.getTime()-a.getTimezoneOffset()*Rt))/o}function ga(e,a,o="days"){const i=new Date(e),r=new Date(a);switch(o){case"years":case"year":return i.getFullYear()-r.getFullYear();case"months":case"month":return(i.getFullYear()-r.getFullYear())*12+i.getMonth()-r.getMonth();case"days":case"day":case"date":return ct(ve(i,"day"),ve(r,"day"),va);case"hours":case"hour":return ct(ve(i,"hour"),ve(r,"hour"),Il);case"minutes":case"minute":return ct(ve(i,"minute"),ve(r,"minute"),Rt);case"seconds":case"second":return ct(ve(i,"second"),ve(r,"second"),1e3)}}function pt(e){return ga(e,ve(e,"year"),"days")+1}function Be(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Zt={YY(e,a,o){const i=this.YYYY(e,a,o)%100;return i>=0?Y(i):"-"+Y(Math.abs(i))},YYYY(e,a,o){return o??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Be(e.getMonth()+1)},MM(e){return Y(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Be(this.Q(e))},D(e){return e.getDate()},Do(e){return Be(e.getDate())},DD(e){return Y(e.getDate())},DDD(e){return pt(e)},DDDo(e){return Be(pt(e))},DDDD(e){return Y(pt(e),3)},d(e){return e.getDay()},do(e){return Be(e.getDay())},dd(e,a){return a.days[e.getDay()].slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Pt(e)},wo(e){return Be(Pt(e))},ww(e){return Y(Pt(e))},H(e){return e.getHours()},HH(e){return Y(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Y(this.h(e))},m(e){return e.getMinutes()},mm(e){return Y(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Y(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Y(Math.floor(e.getMilliseconds()/10))},SSS(e){return Y(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,a,o,i){const r=i??e.getTimezoneOffset();return Ut(r,":")},ZZ(e,a,o,i){const r=i??e.getTimezoneOffset();return Ut(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ql(e,a,o,i,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;a===void 0&&(a=fa);const g=ma(o,la.props);return a.replace(El,(s,m)=>s in Zt?Zt[s](u,g,i,r):m===void 0?s:m.split("\\]").join("]"))}const ce=20,zl=["Calendar","Years","Months"],Wt=e=>zl.includes(e),Ot=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ie=" â€” ";function _e(e){return e.year+"/"+Y(e.month)}const Ul=qe({name:"QDate",props:{...zt,...ka,...mt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...zt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ot},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ot},navigationMaxYearMonth:{type:String,validator:Ot},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Wt}},emits:[...jl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:i}=De(),{$q:r}=i,u=gt(e,r),{getCache:g}=Vl(),{tabindex:s,headerClass:m,getLocale:y,getCurrentDate:n}=Bl(e,r);let v;const q=Pa(e),P=pa(q),k=j(null),M=j(nt()),S=j(y()),Q=h(()=>nt()),X=h(()=>y()),I=h(()=>n()),C=j(ie(M.value,S.value)),F=j(e.defaultView),xe=h(()=>r.lang.rtl===!0?"right":"left"),$e=j(xe.value),ke=j(xe.value),Fe=C.value.year,K=j(Fe-Fe%ce-(Fe<0?ce:0)),E=j(null),yt=h(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ne=h(()=>e.color||"primary"),me=h(()=>e.textColor||"white"),Pe=h(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),pe=h(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),W=h(()=>pe.value.filter(t=>typeof t=="string").map(t=>Ve(t,M.value,S.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ge=h(()=>{const t=l=>Ve(l,M.value,S.value);return pe.value.filter(l=>ta(l)===!0&&l.from!==void 0&&l.to!==void 0).map(l=>({from:t(l.from),to:t(l.to)})).filter(l=>l.from.dateHash!==null&&l.to.dateHash!==null&&l.from.dateHash<l.to.dateHash)}),re=h(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const l=Qt(t.year,t.month,t.day);return new Date(l.gy,l.gm-1,l.gd)}),Ne=h(()=>e.calendar==="persian"?we:(t,l,d)=>Ql(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),l===void 0?M.value:l,d===void 0?S.value:d,t.year,t.timezoneOffset)),J=h(()=>W.value.length+ge.value.reduce((t,l)=>t+1+ga(re.value(l.to),re.value(l.from)),0)),Ae=h(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(E.value!==null){const d=E.value.init,b=re.value(d);return S.value.daysShort[b.getDay()]+", "+S.value.monthsShort[d.month-1]+" "+d.day+Ie+"?"}if(J.value===0)return Ie;if(J.value>1)return`${J.value} ${S.value.pluralDay}`;const t=W.value[0],l=re.value(t);return isNaN(l.valueOf())===!0?Ie:S.value.headerTitle!==void 0?S.value.headerTitle(l,t):S.value.daysShort[l.getDay()]+", "+S.value.monthsShort[t.month-1]+" "+t.day}),et=h(()=>W.value.concat(ge.value.map(l=>l.from)).sort((l,d)=>l.year-d.year||l.month-d.month)[0]),bt=h(()=>W.value.concat(ge.value.map(l=>l.to)).sort((l,d)=>d.year-l.year||d.month-l.month)[0]),tt=h(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(J.value===0)return Ie;if(J.value>1){const t=et.value,l=bt.value,d=S.value.monthsShort;return d[t.month-1]+(t.year!==l.year?" "+t.year+Ie+d[l.month-1]+" ":t.month!==l.month?Ie+d[l.month-1]:"")+" "+l.year}return W.value[0].year}),he=h(()=>{const t=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?t.reverse():t}),Oe=h(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):S.value.firstDayOfWeek),Ye=h(()=>{const t=S.value.daysShort,l=Oe.value;return l>0?t.slice(l,7).concat(t.slice(0,l)):t}),te=h(()=>{const t=C.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():dt(t.year,t.month)}),Qe=h(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),N=h(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),z=h(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),ye=h(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return N.value!==null&&N.value.year>=C.value.year&&(t.year.prev=!1,N.value.year===C.value.year&&N.value.month>=C.value.month&&(t.month.prev=!1)),z.value!==null&&z.value.year<=C.value.year&&(t.year.next=!1,z.value.year===C.value.year&&z.value.month<=C.value.month&&(t.month.next=!1)),t}),be=h(()=>{const t={};return W.value.forEach(l=>{const d=_e(l);t[d]===void 0&&(t[d]=[]),t[d].push(l.day)}),t}),Re=h(()=>{const t={};return ge.value.forEach(l=>{const d=_e(l.from),b=_e(l.to);if(t[d]===void 0&&(t[d]=[]),t[d].push({from:l.from.day,to:d===b?l.to.day:void 0,range:l}),d<b){let w;const{year:$,month:D}=l.from,V=D<12?{year:$,month:D+1}:{year:$+1,month:1};for(;(w=_e(V))<=b;)t[w]===void 0&&(t[w]=[]),t[w].push({from:void 0,to:w===b?l.to.day:void 0,range:l}),V.month++,V.month>12&&(V.year++,V.month=1)}}),t}),ue=h(()=>{if(E.value===null)return;const{init:t,initHash:l,final:d,finalHash:b}=E.value,[w,$]=l<=b?[t,d]:[d,t],D=_e(w),V=_e($);if(D!==U.value&&V!==U.value)return;const R={};return D===U.value?(R.from=w.day,R.includeFrom=!0):R.from=1,V===U.value?(R.to=$.day,R.includeTo=!0):R.to=te.value,R}),U=h(()=>_e(C.value)),St=h(()=>{const t={};if(e.options===void 0){for(let d=1;d<=te.value;d++)t[d]=!0;return t}const l=typeof e.options=="function"?e.options:d=>e.options.includes(d);for(let d=1;d<=te.value;d++){const b=U.value+"/"+Y(d);t[d]=l(b)}return t}),wt=h(()=>{const t={};if(e.events===void 0)for(let l=1;l<=te.value;l++)t[l]=!1;else{const l=typeof e.events=="function"?e.events:d=>e.events.includes(d);for(let d=1;d<=te.value;d++){const b=U.value+"/"+Y(d);t[d]=l(b)===!0&&Qe.value(b)}}return t}),_t=h(()=>{let t,l;const{year:d,month:b}=C.value;if(e.calendar!=="persian")t=new Date(d,b-1,1),l=new Date(d,b-1,0).getDate();else{const w=Qt(d,b,1);t=new Date(w.gy,w.gm-1,w.gd);let $=b-1,D=d;$===0&&($=12,D--),l=dt(D,$)}return{days:t.getDay()-Oe.value-1,endDay:l}}),at=h(()=>{const t=[],{days:l,endDay:d}=_t.value,b=l<0?l+7:l;if(b<6)for(let D=d-b;D<=d;D++)t.push({i:D,fill:!0});const w=t.length;for(let D=1;D<=te.value;D++){const V={i:D,event:wt.value[D],classes:[]};St.value[D]===!0&&(V.in=!0,V.flat=!0),t.push(V)}if(be.value[U.value]!==void 0&&be.value[U.value].forEach(D=>{const V=w+D-1;Object.assign(t[V],{selected:!0,unelevated:!0,flat:!1,color:ne.value,textColor:me.value})}),Re.value[U.value]!==void 0&&Re.value[U.value].forEach(D=>{if(D.from!==void 0){const V=w+D.from-1,R=w+(D.to||te.value)-1;for(let Je=V;Je<=R;Je++)Object.assign(t[Je],{range:D.range,unelevated:!0,color:ne.value,textColor:me.value});Object.assign(t[V],{rangeFrom:!0,flat:!1}),D.to!==void 0&&Object.assign(t[R],{rangeTo:!0,flat:!1})}else if(D.to!==void 0){const V=w+D.to-1;for(let R=w;R<=V;R++)Object.assign(t[R],{range:D.range,unelevated:!0,color:ne.value,textColor:me.value});Object.assign(t[V],{flat:!1,rangeTo:!0})}else{const V=w+te.value-1;for(let R=w;R<=V;R++)Object.assign(t[R],{range:D.range,unelevated:!0,color:ne.value,textColor:me.value})}}),ue.value!==void 0){const D=w+ue.value.from-1,V=w+ue.value.to-1;for(let R=D;R<=V;R++)t[R].color=ne.value,t[R].editRange=!0;ue.value.includeFrom===!0&&(t[D].editRangeFrom=!0),ue.value.includeTo===!0&&(t[V].editRangeTo=!0)}C.value.year===I.value.year&&C.value.month===I.value.month&&(t[w+I.value.day-1].today=!0);const $=t.length%7;if($>0){const D=7-$;for(let V=1;V<=D;V++)t.push({i:V,fill:!0})}return t.forEach(D=>{let V="q-date__calendar-item ";D.fill===!0?V+="q-date__calendar-item--fill":(V+=`q-date__calendar-item--${D.in===!0?"in":"out"}`,D.range!==void 0&&(V+=` q-date__range${D.rangeTo===!0?"-to":D.rangeFrom===!0?"-from":""}`),D.editRange===!0&&(V+=` q-date__edit-range${D.editRangeFrom===!0?"-from":""}${D.editRangeTo===!0?"-to":""}`),(D.range!==void 0||D.editRange===!0)&&(V+=` text-${D.color}`)),D.classes=V}),t}),Ct=h(()=>e.disable===!0?{"aria-disabled":"true"}:{});Z(()=>e.modelValue,t=>{if(v===JSON.stringify(t))v=0;else{const l=ie(M.value,S.value);le(l.year,l.month,l)}}),Z(F,()=>{k.value!==null&&i.$el.contains(document.activeElement)===!0&&k.value.focus()}),Z(()=>C.value.year+"|"+C.value.month,()=>{o("navigation",{year:C.value.year,month:C.value.month})}),Z(Q,t=>{_(t,S.value,"mask"),M.value=t}),Z(X,t=>{_(M.value,t,"locale"),S.value=t});function ze(t){v=JSON.stringify(t)}function Ue(){const{year:t,month:l,day:d}=I.value,b={...C.value,year:t,month:l,day:d},w=be.value[_e(b)];(w===void 0||w.includes(b.day)===!1)&&We(b),Te(b.year,b.month)}function lt(t){Wt(t)===!0&&(F.value=t)}function Mt(t,l){["month","year"].includes(t)&&(t==="month"?ot:He)(l===!0?-1:1)}function Te(t,l){F.value="Calendar",le(t,l)}function qt(t,l){if(e.range===!1||!t){E.value=null;return}const d=Object.assign({...C.value},t),b=l!==void 0?Object.assign({...C.value},l):d;E.value={init:d,initHash:we(d),final:b,finalHash:we(b)},Te(d.year,d.month)}function nt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ve(t,l,d){return Al(t,l,d,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ie(t,l){const d=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(d.length===0)return se();const b=d[d.length-1],w=Ve(b.from!==void 0?b.from:b,t,l);return w.dateHash===null?se():w}function se(){let t,l;if(e.defaultYearMonth!==void 0){const d=e.defaultYearMonth.split("/");t=parseInt(d[0],10),l=parseInt(d[1],10)}else{const d=I.value!==void 0?I.value:n();t=d.year,l=d.month}return{year:t,month:l,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Y(l)+"/01"}}function ot(t){let l=C.value.year,d=Number(C.value.month)+t;d===13?(d=1,l++):d===0&&(d=12,l--),le(l,d),Pe.value===!0&&je("month")}function He(t){const l=Number(C.value.year)+t;le(l,C.value.month),Pe.value===!0&&je("year")}function rt(t){le(t,C.value.month),F.value=e.defaultView==="Years"?"Months":"Calendar",Pe.value===!0&&je("year")}function Dt(t){le(C.value.year,t),F.value="Calendar",Pe.value===!0&&je("month")}function Ze(t,l){(be.value[l]?.includes(t.day)===!0?c:We)(t)}function oe(t){return{year:t.year,month:t.month,day:t.day}}function le(t,l,d){if(N.value!==null&&t<=N.value.year&&((l<N.value.month||t<N.value.year)&&(l=N.value.month),t=N.value.year),z.value!==null&&t>=z.value.year&&((l>z.value.month||t>z.value.year)&&(l=z.value.month),t=z.value.year),d!==void 0){const{hour:w,minute:$,second:D,millisecond:V,timezoneOffset:R,timeHash:Je}=d;Object.assign(C.value,{hour:w,minute:$,second:D,millisecond:V,timezoneOffset:R,timeHash:Je})}const b=t+"/"+Y(l)+"/01";b!==C.value.dateHash&&($e.value=C.value.dateHash<b==(r.lang.rtl!==!0)?"left":"right",t!==C.value.year&&(ke.value=$e.value),vt(()=>{K.value=t-t%ce-(t<0?ce:0),Object.assign(C.value,{year:t,month:l,day:1,dateHash:b})}))}function ut(t,l,d){const b=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:w,details:$}=it(l,d);ze(b),o("update:modelValue",b,w,$)}function je(t){const l=W.value[0]!==void 0&&W.value[0].dateHash!==null?{...W.value[0]}:{...C.value};vt(()=>{l.year=C.value.year,l.month=C.value.month;const d=e.calendar!=="persian"?new Date(l.year,l.month,0).getDate():dt(l.year,l.month);l.day=Math.min(Math.max(1,l.day),d);const b=Se(l),{details:w}=it("",l);ze(b),o("update:modelValue",b,t,w)})}function it(t,l){return l.from!==void 0?{reason:`${t}-range`,details:{...oe(l.target),from:oe(l.from),to:oe(l.to)}}:{reason:`${t}-day`,details:oe(l)}}function Se(t,l,d){return t.from!==void 0?{from:Ne.value(t.from,l,d),to:Ne.value(t.to,l,d)}:Ne.value(t,l,d)}function We(t){let l;if(e.multiple===!0)if(t.from!==void 0){const d=we(t.from),b=we(t.to),w=W.value.filter(D=>D.dateHash<d||D.dateHash>b),$=ge.value.filter(({from:D,to:V})=>V.dateHash<d||D.dateHash>b);l=w.concat($).concat(t).map(D=>Se(D))}else{const d=pe.value.slice();d.push(Se(t)),l=d}else l=Se(t);ut(l,"add",t)}function c(t){if(e.noUnset===!0)return;let l=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const d=Se(t);t.from!==void 0?l=e.modelValue.filter(b=>b.from!==void 0?b.from!==d.from&&b.to!==d.to:!0):l=e.modelValue.filter(b=>b!==d),l.length===0&&(l=null)}ut(l,"remove",t)}function _(t,l,d){const b=W.value.concat(ge.value).map($=>Se($,t,l)).filter($=>$.from!==void 0?$.from.dateHash!==null&&$.to.dateHash!==null:$.dateHash!==null),w=(e.multiple===!0?b:b[0])||null;ze(w),o("update:modelValue",w,d)}function p(){if(e.minimal!==!0)return f("div",{class:"q-date__header "+m.value},[f("div",{class:"relative-position"},[f(Xe,{name:"q-transition--fade"},()=>f("div",{key:"h-yr-"+tt.value,class:"q-date__header-subtitle q-date__header-link "+(F.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...g("vY",{onClick(){F.value="Years"},onKeyup(t){t.keyCode===13&&(F.value="Years")}})},[tt.value]))]),f("div",{class:"q-date__header-title relative-position flex no-wrap"},[f("div",{class:"relative-position col"},[f(Xe,{name:"q-transition--fade"},()=>f("div",{key:"h-sub"+Ae.value,class:"q-date__header-title-label q-date__header-link "+(F.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...g("vC",{onClick(){F.value="Calendar"},onKeyup(t){t.keyCode===13&&(F.value="Calendar")}})},[Ae.value]))]),e.todayBtn===!0?f(L,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,"aria-label":r.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:Ue}):null])])}function x({label:t,type:l,key:d,dir:b,goTo:w,boundaries:$,cls:D}){return[f("div",{class:"row items-center q-date__arrow"},[f(L,{round:!0,dense:!0,size:"sm",flat:!0,icon:he.value[0],"aria-label":l==="Years"?r.lang.date.prevYear:r.lang.date.prevMonth,tabindex:s.value,disable:$.prev===!1,...g("go-#"+l,{onClick(){w(-1)}})})]),f("div",{class:"relative-position overflow-hidden flex flex-center"+D},[f(Xe,{name:"q-transition--jump-"+b},()=>f("div",{key:d},[f(L,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:s.value,...g("view#"+l,{onClick:()=>{F.value=l}})})]))]),f("div",{class:"row items-center q-date__arrow"},[f(L,{round:!0,dense:!0,size:"sm",flat:!0,icon:he.value[1],"aria-label":l==="Years"?r.lang.date.nextYear:r.lang.date.nextMonth,tabindex:s.value,disable:$.next===!1,...g("go+#"+l,{onClick(){w(1)}})})])]}const O={Calendar:()=>[f("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[f("div",{class:"q-date__navigation row items-center no-wrap"},x({label:S.value.months[C.value.month-1],type:"Months",key:C.value.month,dir:$e.value,goTo:ot,boundaries:ye.value.month,cls:" col"}).concat(x({label:C.value.year,type:"Years",key:C.value.year,dir:ke.value,goTo:He,boundaries:ye.value.year,cls:""}))),f("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ye.value.map(t=>f("div",{class:"q-date__calendar-item"},[f("div",t)]))),f("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[f(Xe,{name:"q-transition--slide-"+$e.value},()=>f("div",{key:U.value,class:"q-date__calendar-days fit"},at.value.map(t=>f("div",{class:t.classes},[t.in===!0?f(L,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:s.value,...g("day#"+t.i,{onClick:()=>{B(t.i)},onMouseover:()=>{H(t.i)}})},t.event!==!1?()=>f("div",{class:"q-date__event bg-"+t.event}):null):f("div",""+t.i)]))))])])],Months(){const t=C.value.year===I.value.year,l=b=>N.value!==null&&C.value.year===N.value.year&&N.value.month>b||z.value!==null&&C.value.year===z.value.year&&z.value.month<b,d=S.value.monthsShort.map((b,w)=>{const $=C.value.month===w+1;return f("div",{class:"q-date__months-item flex flex-center"},[f(L,{class:t===!0&&I.value.month===w+1?"q-date__today":null,flat:$!==!0,label:b,unelevated:$,color:$===!0?ne.value:null,textColor:$===!0?me.value:null,tabindex:s.value,disable:l(w+1),...g("month#"+w,{onClick:()=>{Dt(w+1)}})})])});return e.yearsInMonthView===!0&&d.unshift(f("div",{class:"row no-wrap full-width"},[x({label:C.value.year,type:"Years",key:C.value.year,dir:ke.value,goTo:He,boundaries:ye.value.year,cls:" col"})])),f("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},d)},Years(){const t=K.value,l=t+ce,d=[],b=w=>N.value!==null&&N.value.year>w||z.value!==null&&z.value.year<w;for(let w=t;w<=l;w++){const $=C.value.year===w;d.push(f("div",{class:"q-date__years-item flex flex-center"},[f(L,{key:"yr"+w,class:I.value.year===w?"q-date__today":null,flat:!$,label:w,dense:!0,unelevated:$,color:$===!0?ne.value:null,textColor:$===!0?me.value:null,tabindex:s.value,disable:b(w),...g("yr#"+w,{onClick:()=>{rt(w)}})})]))}return f("div",{class:"q-date__view q-date__years flex flex-center"},[f("div",{class:"col-auto"},[f(L,{round:!0,dense:!0,flat:!0,icon:he.value[0],"aria-label":r.lang.date.prevRangeYears(ce),tabindex:s.value,disable:b(t),...g("y-",{onClick:()=>{K.value-=ce}})})]),f("div",{class:"q-date__years-content col self-stretch row items-center"},d),f("div",{class:"col-auto"},[f(L,{round:!0,dense:!0,flat:!0,icon:he.value[1],"aria-label":r.lang.date.nextRangeYears(ce),tabindex:s.value,disable:b(l),...g("y+",{onClick:()=>{K.value+=ce}})})])])}};function B(t){const l={...C.value,day:t};if(e.range===!1){Ze(l,U.value);return}if(E.value===null){const d=at.value.find(w=>w.fill!==!0&&w.i===t);if(e.noUnset!==!0&&d.range!==void 0){c({target:l,from:d.range.from,to:d.range.to});return}if(d.selected===!0){c(l);return}const b=we(l);E.value={init:l,initHash:b,final:l,finalHash:b},o("rangeStart",oe(l))}else{const d=E.value.initHash,b=we(l),w=d<=b?{from:E.value.init,to:l}:{from:l,to:E.value.init};E.value=null,We(d===b?l:{target:l,...w}),o("rangeEnd",{from:oe(w.from),to:oe(w.to)})}}function H(t){if(E.value!==null){const l={...C.value,day:t};Object.assign(E.value,{final:l,finalHash:we(l)})}}return Object.assign(i,{setToday:Ue,setView:lt,offsetCalendar:Mt,setCalendarTo:Te,setEditingRange:qt}),()=>{const t=[f("div",{class:"q-date__content col relative-position"},[f(Xe,{name:"q-transition--fade"},O[F.value])])],l=Le(a.default);return l!==void 0&&t.push(f("div",{class:"q-date__actions"},l)),e.name!==void 0&&e.disable!==!0&&P(t,"push"),f("div",{class:yt.value,...Ct.value},[p(),f("div",{ref:k,class:"q-date__main col column",tabindex:-1},t)])}}}),Jt={__name:"CustomSelect",props:$t({label:{type:String},clearable:{type:Boolean,default:!0},resource:{type:String,required:!0},method:{type:String,default:"get"},filters:{type:Object,default:()=>({})},optionLabel:{type:String,default:"name"},optionValue:{type:String,default:"id"},optionsDense:{type:Boolean,default:!0},mapOptions:{type:Boolean,default:!0},dense:{type:Boolean,default:!0},hideBottomSpace:{type:Boolean,default:!0},query:{type:Object,default:()=>({})},eager:{type:Boolean,default:!1},filterFn:{type:Function,default:null}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,o=na(e,"modelValue"),i=j(null),r=j(!1),u=j(null),g=h(()=>a.filterFn||((y,n)=>n?y[a.optionLabel].toLowerCase().includes(n.toLowerCase()):!0));async function s(){r.value=!0;try{const y={...a.query,filters:a.filters,per_page:0},n=await Ta.request({url:a.resource,method:a.method,params:y});i.value=n.data.data}catch(y){throw y}finally{r.value=!1}}async function m(y,n,v){if(i.value===null)try{await s()}catch{v();return}n(()=>{u.value=i.value.filter(q=>g.value(q,y))},q=>{y!==""&&q.options.length>0&&q.getOptionIndex()===-1&&(q.moveOptionSelection(1,!0),q.toggleOption(q.options[q.optionIndex],!0))})}return ht(()=>{a.eager&&s()}),Z([()=>a.filters,()=>a.resource],()=>{o.value=null,a.eager?s():i.value=null}),(y,n)=>(G(),Ce(ra,Ra({modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=v=>o.value=v)},y.$attrs,{options:u.value,label:e.label,"options-dense":e.optionsDense,"map-options":e.mapOptions,"hide-bottom-space":e.hideBottomSpace,"option-label":e.optionLabel,"option-value":e.optionValue,dense:e.dense,clearable:e.clearable,loading:r.value,onFilter:m,outlined:""}),Oa({"no-option":ae(()=>[A(el,null,{default:ae(()=>[A(tl,{class:"text-grey"},{default:ae(()=>[...n[1]||(n[1]=[Ya(" No results ",-1)])]),_:1})]),_:1})]),_:2},[Ft(y.$slots,(v,q)=>({name:q,fn:ae(P=>[Va(y.$slots,q,$a(Fa(P??{})))])}))]),1040,["modelValue","options","label","options-dense","map-options","hide-bottom-space","option-label","option-value","dense","clearable","loading"]))}},Zl={class:"row items-center justify-end q-pa-sm"},Xt={__name:"FilterField",props:{filter:Object,modelValue:[String,Number,Boolean,Object,Array]},emits:["update:modelValue"],setup(e,{emit:a}){const o=a,i=r=>o("update:modelValue",r);return(r,u)=>e.filter.type==="enum"?(G(),Ce(Jt,{key:0,dense:"",outlined:"","emit-value":"","map-options":"",label:e.filter.label,resource:e.filter.resource,"model-value":e.modelValue,"option-label":e.filter.optionLabel||"name","option-value":e.filter.optionValue||"id",clearable:"","onUpdate:modelValue":i},null,8,["label","resource","model-value","option-label","option-value"])):e.filter.type==="boolean"?(G(),Ce(fe(Ha),{key:1,label:e.filter.label,"model-value":e.modelValue,"onUpdate:modelValue":i},null,8,["label","model-value"])):e.filter.type==="date"?(G(),Ce(fe(Yt),{key:2,dense:"",outlined:"","model-value":e.modelValue,label:e.filter.label,mask:"####-##-##","onUpdate:modelValue":i,clearable:""},{append:ae(()=>[A(ft,{name:"event",class:"cursor-pointer"},{default:ae(()=>[A(sa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:ae(()=>[A(fe(Ul),{"model-value":e.modelValue,mask:"YYYY-MM-DD","onUpdate:modelValue":i},{default:ae(()=>[de("div",Zl,[ja(A(L,{label:"Close",color:"primary",flat:""},null,512),[[Za]])])]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1},8,["model-value","label"])):e.filter.type==="relation"?(G(),Ce(Jt,{key:3,"model-value":e.modelValue,label:e.filter.label||e.filter.name,resource:e.filter.resource,"option-label":e.filter.optionLabel||"name","option-value":e.filter.optionValue||"id",dense:"","map-options":"","emit-value":"",outlined:"","onUpdate:modelValue":i},null,8,["model-value","label","resource","option-label","option-value"])):(G(),Ce(fe(Yt),{key:4,dense:"",clearable:"",outlined:"",label:e.filter.label,"model-value":e.modelValue,"onUpdate:modelValue":i},null,8,["label","model-value"]))}};function Wl(e,a,o){const i=Ba(),r=Ia(),u=j("");function g(){const n={};for(const v of e.value)v.type==="range"?(a[`${v.name}_min`]!=null&&(n[`${v.name}_min`]=a[`${v.name}_min`]),a[`${v.name}_max`]!=null&&(n[`${v.name}_max`]=a[`${v.name}_max`])):a[v.name]!=null&&a[v.name]!==""&&(n[v.name]=a[v.name]);return{search:u.value||void 0,filter:n}}function s(){const n=g(),v=Object.fromEntries(Object.entries(i.query).filter(([q])=>!q.startsWith("filter[")));Object.assign(v,{search:n.search||void 0,...Object.fromEntries(Object.entries(n.filter).map(([q,P])=>[`filter[${q}]`,P]))});for(const q in v)(v[q]===void 0||v[q]===""||v[q]===null)&&delete v[q];r.replace({query:v}),o&&o(n.filter)}function m(){const n=i.query;u.value=n.search||"";for(const v of e.value)v.type==="range"?(a[`${v.name}_min`]=n[`filter[${v.name}_min]`]??null,a[`${v.name}_max`]=n[`filter[${v.name}_max]`]??null):a[v.name]=n[`filter[${v.name}]`]??null;s()}function y(){u.value="";for(const n of e.value)n.type==="range"?(a[`${n.name}_min`]=null,a[`${n.name}_max`]=null):a[n.name]=null;s()}return{clearFilters:y,initializeFromQuery:m,sync:s,search:u}}const Jl={class:"flex flex-col items-center"},Xl={class:"flex justify-between items-center"},Kl={key:0,class:"flex justify-end items-center gap-4"},Gl={class:"flex flex-col gap-3"},en={class:"font-medium"},tn={class:"flex flex-nowrap justify-between gap-2"},an={class:"flex justify-between items-center mb-4"},ln={class:"text-lg font-semibold"},nn={class:"grid gap-4 mt-4"},on={class:"flex justify-between gap-2 mt-6"},gn={__name:"FilterPanel",props:{filters:Array},emits:["update"],setup(e,{emit:a}){const o=e,i=a,r=Ea(),u=j(!1),g=j(null),s=h(()=>r.screen.lt.md),m=h(()=>o.filters||[]),y=La({}),{search:n,sync:v,clearFilters:q,initializeFromQuery:P}=Wl(m,y,k=>{i("update",{search:n.value,filters:k}),u.value=!1,r.popupProxy?.hide(g)});return ht(()=>{P()}),(k,M)=>(G(),Ge("div",Jl,[de("div",Xl,[A(L,{class:"md:hidden",icon:"filter_list",label:k.$t("filters"),onClick:M[0]||(M[0]=S=>u.value=!0),flat:""},null,8,["label"])]),s.value?Na("",!0):(G(),Ge("div",Kl,[A(L,{ref_key:"dropdownRef",ref:g,icon:"sym_r_filter_list",label:"Filters",class:"q-mr-md",outline:"",onClick:M[1]||(M[1]=S=>fe(r).popupProxy?.toggle(g.value))},null,512),A(sa,{"transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom left",self:"top left",offset:[-15,5],class:"shadow-lg border dark:border-none rounded-lg"},{default:ae(()=>[A(Aa,{class:"q-pa-md dark:bg-slate-700",style:{"min-width":"300px","max-width":"350px"}},{default:ae(()=>[de("div",Gl,[de("div",en,It(k.$t("filter_by")),1),(G(!0),Ge(Et,null,Ft(m.value,S=>(G(),Ce(Xt,{key:S.name,filter:S,modelValue:y[S.name],"onUpdate:modelValue":Q=>y[S.name]=Q,class:"w-full"},null,8,["filter","modelValue","onUpdate:modelValue"]))),128))]),A(aa,{class:"q-my-md"}),de("div",tn,[A(L,{label:k.$t("clear_filters"),color:"negative",unelevated:"",flat:"",onClick:fe(q)},null,8,["label","onClick"]),A(L,{label:k.$t("apply_filters"),icon:"sym_r_filter_alt",color:"primary",unelevated:"",onClick:fe(v)},null,8,["label","onClick"])])]),_:1})]),_:1})])),A(al,{modelValue:u.value,"onUpdate:modelValue":M[3]||(M[3]=S=>u.value=S),side:"right",overlay:"",behavior:"mobile",class:"bg-white p-4"},{default:ae(()=>[de("div",an,[de("div",ln,It(k.$t("filters")),1),A(L,{flat:"",icon:"close",onClick:M[2]||(M[2]=S=>u.value=!1)})]),de("div",nn,[(G(!0),Ge(Et,null,Ft(m.value,S=>(G(),Ce(Xt,{key:S.name,filter:S,modelValue:y[S.name],"onUpdate:modelValue":Q=>y[S.name]=Q},null,8,["filter","modelValue","onUpdate:modelValue"]))),128))]),de("div",on,[A(L,{label:k.$t("clear_filters"),color:"negative",outline:"",class:"w-full",icon:"sym_r_filter_list_off",onClick:fe(q)},null,8,["label","onClick"]),A(L,{label:k.$t("apply_filters"),color:"primary",class:"w-full",icon:"sym_r_filter_list",onClick:fe(v)},null,8,["label","onClick"])])]),_:1},8,["modelValue"])]))}},hn={__name:"SearchBar",props:$t({customClass:{type:String}},{searchValue:{},searchValueModifiers:{}}),emits:$t(["search"],["update:searchValue"]),setup(e,{emit:a}){const o=na(e,"searchValue"),i=a;return(r,u)=>(G(),Ge("div",{class:za(["flex-1 w-100",e.customClass])},[A(Yt,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=g=>o.value=g),dense:"",outlined:"",placeholder:`${r.$t("search")}...`,class:"ms-auto",onKeydown:u[1]||(u[1]=Qa(g=>i("search"),["enter"])),"hide-bottom-space":""},{prepend:ae(()=>[A(ft,{name:"search",size:"xs",color:r.$q.dark.isActive?"white":"dark"},null,8,["color"])]),_:1},8,["modelValue","placeholder"])],2))}};export{mn as Q,Jt as _,hn as a,gn as b,fn as c};
