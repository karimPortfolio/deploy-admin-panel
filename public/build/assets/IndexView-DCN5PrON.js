import{Q as I}from"./QPage-BBLQyAC7.js";import{U as w,c as h,o as f,w as t,b as e,g as d,i as r,Q as $,t as y,j as l,l as A,v as U,a0 as q,$ as O,x as _,aa as Y}from"./app-CVo2F_W3.js";import{Q as k,a as z}from"./QInnerLoading-CiQDGj4V.js";import{u as C}from"./useResourceIndex-OJHyqOIO.js";import{u as Q}from"./useTextTruncate-BXow-7eB.js";import{Q as B}from"./QSelect-BsTDJULy.js";import{_ as D}from"./WarningAlert-Dvx9fMIH.js";/* empty css               */import"./useFetch-CRpE6LrY.js";import"./QMenu-Bv4-7jnn.js";import"./format-BOf40pHW.js";const L={class:"bg-primary-100 rounded-full w-fit p-4"},M={class:"font-bold text-xl"},j={class:"text-gray-500 dark:text-gray-400"},N={__name:"ServersTotalCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/servers-count");return w(()=>o()),(c,m)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:t(()=>[e(d,null,{default:t(()=>[r("div",L,[e($,{name:"sym_r_host",size:"sm",color:"primary"})])]),_:1}),e(d,null,{default:t(()=>[r("div",M,y(l(a)?.total),1),r("div",j,y(c.$t("servers.title")),1)]),_:1}),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},W={class:"bg-green-100 rounded-full w-fit p-4"},Z={class:"font-bold text-xl"},K={class:"text-gray-500 dark:text-gray-400"},P={__name:"SecurityGroupTotalCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/security-groups-count"),{truncate:c}=Q();return w(()=>o()),(m,g)=>(f(),h(A,{class:"shadow-none flex flex-nowrap items-center gap-0 ps-3"},{default:t(()=>[e(d,null,{default:t(()=>[r("div",W,[e($,{name:"sym_r_security",size:"sm",color:"green"})])]),_:1}),e(d,null,{default:t(()=>[r("div",Z,y(l(a)?.total),1),r("div",K,y(l(c)(m.$t("security_groups.title"),15)),1)]),_:1}),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},R={class:"bg-purple-100 rounded-full w-fit p-4"},E={class:"font-bold text-xl"},H={class:"text-gray-500 dark:text-gray-400"},J={__name:"SshKeysTotalCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/sshkeys-count"),{truncate:c}=Q();return w(()=>o()),(m,g)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:t(()=>[e(d,null,{default:t(()=>[r("div",R,[e($,{name:"sym_r_security",size:"sm",color:"purple"})])]),_:1}),e(d,null,{default:t(()=>[r("div",E,y(l(a)?.total),1),r("div",H,y(l(c)(m.$t("ssh_keys.title"),15)),1)]),_:1}),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},X={class:"flex items-center gap-2"},ee=["title"],te={__name:"MonthlyServersTotalChartCard",setup(x){const a=new Date().getFullYear(),o=U(a),{data:s,fetch:c,loading:m}=C("admin/dashboard/monthly-servers-total"),{truncate:g}=Q(),{t:b}=q(),v=O(),n=_(()=>!s.value||!Array.isArray(s.value)?[]:s.value.map(u=>b(`months.${u.month}`))),i=_(()=>({chart:{type:"area",height:250,background:v.dark.isActive?"#1e293b":"#00000",toolbar:{show:!1},zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},grid:{borderColor:"#1976d212",yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"category",categories:n.value??[]},yaxis:{opposite:!1},legend:{horizontalAlign:"left"},theme:{mode:v.dark.isActive?"dark":"light"}})),S=_(()=>{if(!s.value||!Array.isArray(s.value))return[];const u=s.value.map(p=>p.total);return[{name:b("servers.title"),color:"#1b75bb",data:u}]}),T=_(()=>{const u=[];for(let p=a-20;p<=a;p++)u.push(p);return u}),V=()=>{c({filters:{year:o.value}})};return w(()=>{c({filters:{year:o.value}})}),(u,p)=>{const F=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:t(()=>[e(d,{class:"flex items-center justify-between"},{default:t(()=>[r("div",X,[e($,{name:"sym_r_host",color:"primary",size:"sm"}),r("div",{class:"font-medium",title:u.$t("servers.monthly_total")},y(l(g)(u.$t("servers.monthly_total"),40)),9,ee)]),r("div",null,[e(B,{options:T.value,modelValue:o.value,"onUpdate:modelValue":[p[0]||(p[0]=G=>o.value=G),V],outlined:"","emit-value":"","map-options":"",dense:""},null,8,["options","modelValue"])])]),_:1}),e(d,{class:"p-0"},{default:t(()=>[e(F,{type:"area",height:"250",options:i.value,series:S.value},null,8,["options","series"])]),_:1}),e(k,{showing:l(m)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},ae={class:"flex items-center gap-2"},se=["title"],re={__name:"MonthlySecurityGroupTotalChartCard",setup(x){const a=new Date().getFullYear(),o=U(a),{data:s,fetch:c,loading:m}=C("admin/dashboard/monthly-security-groups-total"),{truncate:g}=Q(),{t:b}=q(),v=O(),n=_(()=>!s.value||!Array.isArray(s.value)?[]:s.value.map(u=>b(`months.${u.month}`))),i=_(()=>({chart:{type:"area",height:250,background:v.dark.isActive?"#1e293b":"#00000",toolbar:{show:!1},zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},grid:{borderColor:"#1976d212",yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"category",categories:n.value??[]},yaxis:{opposite:!1},legend:{horizontalAlign:"left"},theme:{mode:v.dark.isActive?"dark":"light"}})),S=_(()=>{if(!s.value||!Array.isArray(s.value))return[];const u=s.value.map(p=>p.total);return[{name:b("security_groups.title"),color:"#00a63e",data:u}]}),T=_(()=>{const u=[];for(let p=a-20;p<=a;p++)u.push(p);return u}),V=()=>{c({filters:{year:o.value}})};return w(()=>{c({filters:{year:o.value}})}),(u,p)=>{const F=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:t(()=>[e(d,{class:"flex items-center justify-between"},{default:t(()=>[r("div",ae,[e($,{name:"sym_r_security",color:"green",size:"sm"}),r("div",{class:"font-medium",title:u.$t("security_groups.monthly_total")},y(l(g)(u.$t("security_groups.monthly_total"),40)),9,se)]),r("div",null,[e(B,{options:T.value,modelValue:o.value,"onUpdate:modelValue":[p[0]||(p[0]=G=>o.value=G),V],outlined:"","emit-value":"","map-options":"",dense:""},null,8,["options","modelValue"])])]),_:1}),e(d,{class:"p-0"},{default:t(()=>[e(F,{type:"area",height:"250",options:i.value,series:S.value},null,8,["options","series"])]),_:1}),e(k,{showing:l(m)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},oe={class:"flex items-center gap-2"},le=["title"],ne={__name:"TotalServersByStatusChartCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/servers-by-status"),{truncate:c}=Q(),m=O(),g=_(()=>!a.value||!Array.isArray(a.value)?[]:a.value.map(i=>i.status)),b=_(()=>!a.value||!Array.isArray(a.value)?[]:a.value.map(i=>i.color)),v=_(()=>({chart:{type:"donut",height:250,animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},zoom:{enabled:!1},toolbar:{show:!1},background:"transparent"},plotOptions:{pie:{startAngle:-90,endAngle:270,expandOnClick:!1}},fill:{type:m.dark.isActive?null:"gradient",colors:b.value},dataLabels:{enabled:!0,formatter:function(i){return i=i.toFixed(0),i+"%"}},stroke:{show:!1},labels:g.value??[],legend:{formatter:function(i){return i}},theme:{mode:m.dark.isActive?"dark":"light"}})),n=_(()=>!a.value||!Array.isArray(a.value)?[]:a.value.map(i=>i.total));return w(()=>{o()}),(i,S)=>{const T=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:t(()=>[e(d,null,{default:t(()=>[r("div",oe,[e($,{name:"sym_r_host",color:"purple",size:"sm"}),r("div",{class:"font-medium",title:i.$t("servers.total_by_status")},y(l(c)(i.$t("servers.total_by_status"),40)),9,le)])]),_:1}),l(s)||n.value.length?(f(),h(d,{key:0,class:"p-0"},{default:t(()=>[e(T,{type:"donut",height:"250",options:v.value,series:n.value},null,8,["options","series"])]),_:1})):(f(),h(d,{key:1,class:"pb-0"},{default:t(()=>[e(D,{message:"no_data_available_msg"})]),_:1})),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},ie={class:"flex items-center gap-2"},ue=["title"],ce={__name:"TotalServersBySecurityGroupsChartCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/servers-by-security-groups"),{truncate:c}=Q(),m=_(()=>!a.value||!Array.isArray(a.value)?[]:a.value.map(n=>n.securityGroup)),g=O(),b=_(()=>({chart:{type:"donut",height:250,animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},zoom:{enabled:!1},toolbar:{show:!1},background:"transparent"},plotOptions:{pie:{startAngle:-90,endAngle:270,expandOnClick:!1}},fill:{type:g.dark.isActive?null:"gradient"},dataLabels:{enabled:!0,formatter:function(n){return n=n.toFixed(0),n+"%"}},stroke:{show:!1},labels:m.value??[],legend:{formatter:function(n){return c(n,15)}},theme:{mode:g.dark.isActive?"dark":"light"}})),v=_(()=>!a.value||!Array.isArray(a.value)?[]:a.value.map(n=>n.total));return w(()=>{o()}),(n,i)=>{const S=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:t(()=>[e(d,{class:"flex items-center justify-between"},{default:t(()=>[r("div",ie,[e($,{name:"sym_r_host",color:"warning",size:"sm"}),r("div",{class:"font-medium",title:n.$t("servers.total_by_security_group")},y(l(c)(n.$t("servers.total_by_security_group"),40)),9,ue)])]),_:1}),l(s)||v.value.length?(f(),h(d,{key:0,class:"p-0 pb-4"},{default:t(()=>[e(S,{type:"donut",height:"250",options:b.value,series:v.value},null,8,["options","series"])]),_:1})):(f(),h(d,{key:1,class:"pb-0"},{default:t(()=>[e(D,{message:"no_data_available_msg"})]),_:1})),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},de={class:"bg-yellow-100 rounded-full w-fit p-4"},pe={class:"font-bold text-xl"},_e={class:"text-gray-500 dark:text-gray-400"},me={__name:"UsersTotalCard",setup(x){const{data:a,fetch:o,loading:s}=C("admin/dashboard/users-count");return w(()=>o()),(c,m)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:t(()=>[e(d,null,{default:t(()=>[r("div",de,[e($,{name:"sym_r_group",size:"sm",color:"warning"})])]),_:1}),e(d,null,{default:t(()=>[r("div",pe,y(l(a)?.total),1),r("div",_e,y(c.$t("users.title")),1)]),_:1}),e(k,{showing:l(s)},{default:t(()=>[e(z,{color:"warning",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},he={class:"grid lg:grid-cols-4 gap-4"},fe={class:"grid lg:grid-cols-2 gap-4 mt-4"},ye={class:"grid lg:grid-cols-2 gap-4 mt-4"},Qe={__name:"IndexView",setup(x){return(a,o)=>(f(),h(I,{class:"q-pa-md"},{default:t(()=>[r("div",null,[r("div",he,[e(N),e(me),e(P),e(J)]),r("div",fe,[e(te),e(re)]),r("div",ye,[e(ne),e(ce)])])]),_:1}))}};export{Qe as default};
