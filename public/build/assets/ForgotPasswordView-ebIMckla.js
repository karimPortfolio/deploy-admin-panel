import{v as u,u as w,a0 as b,D as y,U as v,c as k,w as t,$ as Q,ab as S,aa as $,o as V,b as a,i as l,l as C,g as c,t as i,af as I,Q as q,k as P,d as B}from"./app-CVo2F_W3.js";import{Q as M}from"./QForm-BsOaUD0C.js";import{Q as N}from"./QPage-BBLQyAC7.js";import{b as z,a as D}from"./QLayout-kQp8uDh8.js";import{_ as F}from"./AuthPageHeader-DsVm23dk.js";import{u as p}from"./index-CwMOWcUW.js";/* empty css               */import"./QImg-BE0GSjEp.js";import"./QMenu-Bv4-7jnn.js";import"./QSelect-BsTDJULy.js";import"./format-BOf40pHW.js";import"./index-DZucgB02.js";const L={class:"sm:q-pa-xl flex-1 flex flex-col"},U={class:"text-3xl font-bold text-primary mb-2"},j={class:"text-gray-600 dark:text-gray-400"},A={class:"text-center q-mt-md"},te={__name:"ForgotPasswordView",setup(J){const r=u({}),n=u(!1),o=u({}),d=Q(),m=w(),{t:O}=b(),f=async()=>{n.value=!0;try{await m.forgotPassword(r.value)}catch(e){e.response?.status===422&&(o.value=e.response.data.errors)}finally{n.value=!1}},g=p(()=>{const e=localStorage.getItem("dark");if(e==="auto"){d.dark.set(e);return}const s=JSON.parse(e)??"auto";d.dark.set(s)}),_=p(()=>{const e=localStorage.getItem("language")??"en";S.global.locale.value=e});return y(()=>m.errorMessages,e=>{e&&(o.value=e)}),v(()=>{g(),_()}),(e,s)=>{const x=$("router-link");return V(),k(z,null,{default:t(()=>[a(D,null,{default:t(()=>[a(N,{class:"w-full min-h-screen dark:bg-slate-900 sm:bg-gray-50 flex"},{default:t(()=>[a(F),l("div",L,[a(C,{class:"flex flex-col justify-center items-center my-auto sm:shadow-lg shadow-none sm:rounded-xl rounded-none sm:max-w-md max-w-full mx-auto w-full"},{default:t(()=>[a(c,{class:"text-center pt-8"},{default:t(()=>[l("h1",U,i(e.$t("forgot_password_title")),1),l("p",j,i(e.$t("forgot_password_subtitle")),1)]),_:1}),a(c,{class:"w-full px-8 pt-4 pb-8"},{default:t(()=>[a(M,{onSubmit:e.handleLogin,class:"q-gutter-y-md"},{default:t(()=>[a(I,{modelValue:r.value.email,"onUpdate:modelValue":s[0]||(s[0]=h=>r.value.email=h),label:e.$t("users.email"),"lazy-rules":"","error-message":o.value.email?.[0],error:"email"in o.value,outlined:"",class:"rounded-lg"},{prepend:t(()=>[a(q,{name:"mail",color:"primary"})]),_:1},8,["modelValue","label","error-message","error"]),a(P,{label:e.$t("reset_password"),onClick:f,class:"w-full bg-primary text-white q-py-md rounded-lg",color:"primary",loading:n.value,unelevated:""},null,8,["label","loading"]),l("div",A,[a(x,{to:{name:"auth.login"},class:"text-primary text-sm"},{default:t(()=>[B(i(e.$t("back_to_login")),1)]),_:1})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})}}};export{te as default};
