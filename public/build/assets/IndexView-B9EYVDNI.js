import{Q as L}from"./QPage-BBLQyAC7.js";import{U as w,c as h,o as f,w as a,b as e,g as p,i as r,Q as $,t as v,j as u,l as A,v as q,a0 as B,$ as T,x as _,aa as Y}from"./app-CVo2F_W3.js";import{Q as k,a as z}from"./QInnerLoading-CiQDGj4V.js";import{u as C}from"./useResourceIndex-OJHyqOIO.js";import{u as Q}from"./useTextTruncate-BXow-7eB.js";import{Q as D}from"./QSelect-BsTDJULy.js";import{_ as I}from"./WarningAlert-Dvx9fMIH.js";/* empty css               */import"./useFetch-CRpE6LrY.js";import"./QMenu-Bv4-7jnn.js";import"./format-BOf40pHW.js";const M={class:"bg-primary-100 rounded-full w-fit p-4"},U={class:"font-bold text-xl"},j={class:"text-gray-500 dark:text-gray-400"},N={__name:"ServersTotalCard",setup(x){const{data:t,fetch:o,loading:s}=C("dashboard/servers-count");return w(()=>o()),(d,m)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:a(()=>[e(p,null,{default:a(()=>[r("div",M,[e($,{name:"sym_r_host",size:"sm",color:"primary"})])]),_:1}),e(p,null,{default:a(()=>[r("div",U,v(u(t)?.total),1),r("div",j,v(d.$t("servers.title")),1)]),_:1}),e(k,{showing:u(s)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},W={class:"bg-green-100 rounded-full w-fit p-4"},Z={class:"font-bold text-xl"},K={class:"text-gray-500 dark:text-gray-400"},P={__name:"SecurityGroupTotalCard",setup(x){const{data:t,fetch:o,loading:s}=C("dashboard/security-groups-count"),{truncate:d}=Q();return w(()=>o()),(m,y)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:a(()=>[e(p,null,{default:a(()=>[r("div",W,[e($,{name:"sym_r_security",size:"sm",color:"green"})])]),_:1}),e(p,null,{default:a(()=>[r("div",Z,v(u(t)?.total),1),r("div",K,v(u(d)(m.$t("security_groups.title"),15)),1)]),_:1}),e(k,{showing:u(s)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},R={class:"bg-purple-100 rounded-full w-fit p-4"},E={class:"font-bold text-xl"},H={class:"text-gray-500 dark:text-gray-400"},J={__name:"SshKeysTotalCard",setup(x){const{data:t,fetch:o,loading:s}=C("dashboard/sshkeys-count"),{truncate:d}=Q();return w(()=>o()),(m,y)=>(f(),h(A,{class:"shadow-none flex items-center gap-0 ps-3"},{default:a(()=>[e(p,null,{default:a(()=>[r("div",R,[e($,{name:"sym_r_security",size:"sm",color:"purple"})])]),_:1}),e(p,null,{default:a(()=>[r("div",E,v(u(t)?.total),1),r("div",H,v(u(d)(m.$t("ssh_keys.title"),15)),1)]),_:1}),e(k,{showing:u(s)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1}))}},X={class:"flex items-center gap-2"},ee=["title"],te={__name:"MonthlyServersTotalChartCard",setup(x){const t=new Date().getFullYear(),o=q(t),{data:s,fetch:d,loading:m}=C("dashboard/monthly-servers-total"),{truncate:y}=Q(),{t:b}=B(),g=T(),l=_(()=>!s.value||!Array.isArray(s.value)?[]:s.value.map(i=>b(`months.${i.month}`))),n=_(()=>({chart:{type:"area",height:250,background:g.dark.isActive?"#1e293b":"#00000",toolbar:{show:!1},zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},grid:{borderColor:"#1976d212",yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"category",categories:l.value??[]},yaxis:{opposite:!1},legend:{horizontalAlign:"left"},theme:{mode:g.dark.isActive?"dark":"light"}})),S=_(()=>{if(!s.value||!Array.isArray(s.value))return[];const i=s.value.map(c=>c.total);return[{name:b("servers.title"),color:"#1b75bb",data:i}]}),O=_(()=>{const i=[];for(let c=t-20;c<=t;c++)i.push(c);return i}),V=()=>{d({filters:{year:o.value}})};return w(()=>{d({filters:{year:o.value}})}),(i,c)=>{const F=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:a(()=>[e(p,{class:"flex items-center justify-between"},{default:a(()=>[r("div",X,[e($,{name:"sym_r_host",color:"primary",size:"sm"}),r("div",{class:"font-medium",title:i.$t("servers.monthly_total")},v(u(y)(i.$t("servers.monthly_total"),40)),9,ee)]),r("div",null,[e(D,{options:O.value,modelValue:o.value,"onUpdate:modelValue":[c[0]||(c[0]=G=>o.value=G),V],outlined:"","emit-value":"","map-options":"",dense:""},null,8,["options","modelValue"])])]),_:1}),e(p,{class:"p-0"},{default:a(()=>[e(F,{type:"area",height:"250",options:n.value,series:S.value},null,8,["options","series"])]),_:1}),e(k,{showing:u(m)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},ae={class:"flex items-center gap-2"},se=["title"],re={__name:"MonthlySecurityGroupTotalChartCard",setup(x){const t=new Date().getFullYear(),o=q(t),{data:s,fetch:d,loading:m}=C("dashboard/monthly-security-groups-total"),{truncate:y}=Q(),{t:b}=B(),g=T(),l=_(()=>!s.value||!Array.isArray(s.value)?[]:s.value.map(i=>b(`months.${i.month}`))),n=_(()=>({chart:{type:"area",height:250,background:g.dark.isActive?"#1e293b":"#00000",toolbar:{show:!1},zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},grid:{borderColor:"#1976d212",yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"category",categories:l.value??[]},yaxis:{opposite:!1},legend:{horizontalAlign:"left"},theme:{mode:g.dark.isActive?"dark":"light"}})),S=_(()=>{if(!s.value||!Array.isArray(s.value))return[];const i=s.value.map(c=>c.total);return[{name:b("security_groups.title"),color:"#00a63e",data:i}]}),O=_(()=>{const i=[];for(let c=t-20;c<=t;c++)i.push(c);return i}),V=()=>{d({filters:{year:o.value}})};return w(()=>{d({filters:{year:o.value}})}),(i,c)=>{const F=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:a(()=>[e(p,{class:"flex items-center justify-between"},{default:a(()=>[r("div",ae,[e($,{name:"sym_r_security",color:"green",size:"sm"}),r("div",{class:"font-medium",title:i.$t("security_groups.monthly_total")},v(u(y)(i.$t("security_groups.monthly_total"),40)),9,se)]),r("div",null,[e(D,{options:O.value,modelValue:o.value,"onUpdate:modelValue":[c[0]||(c[0]=G=>o.value=G),V],outlined:"","emit-value":"","map-options":"",dense:""},null,8,["options","modelValue"])])]),_:1}),e(p,{class:"p-0"},{default:a(()=>[e(F,{type:"area",height:"250",options:n.value,series:S.value},null,8,["options","series"])]),_:1}),e(k,{showing:u(m)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},oe={class:"flex items-center gap-2"},le=["title"],ne={__name:"TotalServersByStatusChartCard",setup(x){const{data:t,fetch:o,loading:s}=C("dashboard/servers-by-status"),{truncate:d}=Q(),m=T(),y=_(()=>!t.value||!Array.isArray(t.value)?[]:t.value.map(n=>n.status)),b=_(()=>!t.value||!Array.isArray(t.value)?[]:t.value.map(n=>n.color)),g=_(()=>({chart:{type:"donut",height:250,animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},zoom:{enabled:!1},toolbar:{show:!1},background:"transparent"},plotOptions:{pie:{startAngle:-90,endAngle:270,expandOnClick:!1}},fill:{type:m.dark.isActive?null:"gradient",colors:b.value},dataLabels:{enabled:!0,formatter:function(n){return n=n.toFixed(0),n+"%"}},stroke:{show:!1},labels:y.value??[],legend:{formatter:function(n){return n}},theme:{mode:m.dark.isActive?"dark":"light"}})),l=_(()=>!t.value||!Array.isArray(t.value)?[]:t.value.map(n=>n.total));return w(()=>{o()}),(n,S)=>{const O=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:a(()=>[e(p,null,{default:a(()=>[r("div",oe,[e($,{name:"sym_r_host",color:"purple",size:"sm"}),r("div",{class:"font-medium",title:n.$t("servers.total_by_status")},v(u(d)(n.$t("servers.total_by_status"),40)),9,le)])]),_:1}),u(s)||l.value.length?(f(),h(p,{key:0,class:"p-0"},{default:a(()=>[e(O,{type:"donut",height:"250",options:g.value,series:l.value},null,8,["options","series"])]),_:1})):(f(),h(p,{key:1,class:"pb-0"},{default:a(()=>[e(I,{message:"no_data_available_msg"})]),_:1})),e(k,{showing:u(s)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},ie={class:"flex items-center gap-2"},ue=["title"],ce={__name:"TotalServersBySecurityGroupsChartCard",setup(x){const{data:t,fetch:o,loading:s}=C("dashboard/servers-by-security-groups"),{truncate:d}=Q(),m=_(()=>!t.value||!Array.isArray(t.value)?[]:t.value.map(l=>l.securityGroup)),y=T(),b=_(()=>({chart:{type:"donut",height:250,animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},zoom:{enabled:!1},toolbar:{show:!1},background:"transparent"},plotOptions:{pie:{startAngle:-90,endAngle:270,expandOnClick:!1}},fill:{type:y.dark.isActive?null:"gradient"},dataLabels:{enabled:!0,formatter:function(l){return l=l.toFixed(0),l+"%"}},stroke:{show:!1},labels:m.value??[],legend:{formatter:function(l){return d(l,15)}},theme:{mode:y.dark.isActive?"dark":"light"}})),g=_(()=>!t.value||!Array.isArray(t.value)?[]:t.value.map(l=>l.total));return w(()=>{o()}),(l,n)=>{const S=Y("apexchart");return f(),h(A,{class:"shadow-none"},{default:a(()=>[e(p,{class:"flex items-center justify-between"},{default:a(()=>[r("div",ie,[e($,{name:"sym_r_host",color:"warning",size:"sm"}),r("div",{class:"font-medium",title:l.$t("servers.total_by_security_group")},v(u(d)(l.$t("servers.total_by_security_group"),40)),9,ue)])]),_:1}),u(s)||g.value.length?(f(),h(p,{key:0,class:"p-0 pb-4"},{default:a(()=>[e(S,{type:"donut",height:"250",options:b.value,series:g.value},null,8,["options","series"])]),_:1})):(f(),h(p,{key:1,class:"pb-0"},{default:a(()=>[e(I,{message:"no_data_available_msg"})]),_:1})),e(k,{showing:u(s)},{default:a(()=>[e(z,{color:"primary",size:"40px"})]),_:1},8,["showing"])]),_:1})}}},de={class:"grid lg:grid-cols-3 gap-4"},pe={class:"grid lg:grid-cols-2 gap-4 mt-4"},_e={class:"grid lg:grid-cols-2 gap-4 mt-4"},ke={__name:"IndexView",setup(x){return(t,o)=>(f(),h(L,{class:"q-pa-md"},{default:a(()=>[r("div",null,[r("div",de,[e(N),e(P),e(J)]),r("div",pe,[e(te),e(re)]),r("div",_e,[e(ne),e(ce)])])]),_:1}))}};export{ke as default};
