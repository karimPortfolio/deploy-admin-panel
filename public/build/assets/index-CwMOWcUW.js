import{c as d,i as p,h as g}from"./index-DZucgB02.js";import{v as m,b3 as h,b4 as v}from"./app-CVo2F_W3.js";const y=p?window.document:void 0,D={multiple:!0,accept:"*",reset:!1,directory:!1};function w(a){if(!a)return null;if(a instanceof FileList)return a;const l=new DataTransfer;for(const o of a)l.items.add(o);return l.files}function T(a={}){const{document:l=y}=a,o=m(w(a.initialFiles)),{on:c,trigger:i}=d(),{on:s,trigger:f}=d();let t;l&&(t=l.createElement("input"),t.type="file",t.onchange=e=>{const n=e.target;o.value=n.files,i(o.value)},t.oncancel=()=>{f()});const u=()=>{o.value=null,t&&t.value&&(t.value="",i(null))},r=e=>{if(!t)return;const n={...D,...a,...e};t.multiple=n.multiple,t.accept=n.accept,t.webkitdirectory=n.directory,g(n,"capture")&&(t.capture=n.capture),n.reset&&u(),t.click()};return{files:h(o),open:r,reset:u,onCancel:s,onChange:c}}function O(a,l){const c=v(new Map),i=(...e)=>JSON.stringify(e),s=(e,...n)=>(c.set(e,a(...n)),c.get(e)),f=(...e)=>s(i(...e),...e),t=(...e)=>{c.delete(i(...e))},u=()=>{c.clear()},r=(...e)=>{const n=i(...e);return c.has(n)?c.get(n):s(n,...e)};return r.load=f,r.delete=t,r.clear=u,r.generateKey=i,r.cache=c,r}export{T as a,O as u};
