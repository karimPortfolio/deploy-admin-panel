import{u as C,a0 as w,x as f,v as P,D as S,c as I,w as o,o as d,b as s,i as e,l as B,g as v,t as i,e as m,f as c,a1 as U,a3 as j,a4 as N,a5 as T,j as g,ag as z,ah as D,d as F,aj as _,k as L}from"./app-CVo2F_W3.js";import{Q as h}from"./QImg-BE0GSjEp.js";import{Q as O,a as R,h as A}from"./QMenu-Bv4-7jnn.js";import{Q as E}from"./QSelect-BsTDJULy.js";import{Q as G}from"./QForm-BsOaUD0C.js";import{Q as H}from"./QPage-BBLQyAC7.js";import{_ as J}from"./PageHeader-CeaXU9p-.js";import{u as K}from"./useResourceUpdate-a58ld08K.js";/* empty css               */import"./format-BOf40pHW.js";import"./useFetch-CRpE6LrY.js";const M={class:"mt-4"},W={class:"font-medium"},X={class:"grid sm:grid-cols-3"},Y={class:"text-sm"},Z={class:"dark:text-gray-400 text-gray-600 text-xs"},ee={class:"col-span-2 flex gap-10 items-center"},se={class:"os-family-grid q-field--outlined"},te={class:"grid grid-cols-2 lg:grid-cols-3 q-col-gutter-md q-pa-md"},ae=["onClick"],le={class:"text-xs sm:mt-2"},ie={key:0,class:"text-negative text-caption q-mt-sm ms-4"},oe={class:"mt-5 grid sm:grid-cols-3"},ne={class:"text-sm"},re={class:"dark:text-gray-400 text-gray-600 text-xs"},de={class:"ms- mt-3 sm:mt-0"},me={class:"mt-5 grid sm:grid-cols-3"},ce={class:"text-sm"},ge={class:"dark:text-gray-400 text-gray-600 text-xs"},ue={class:"mt-6 flex justify-end"},Ce={__name:"IndexView",setup(pe){const{user:u,fetchProfile:b}=C(),{update:y,updating:x,validation:p}=K(()=>`user/preferences/${u.preferences[0].id}`),{t:n}=w(),Q=f(()=>[{id:1,label:n("system"),value:"auto",img:"/src/img/system-placeholder.png"},{id:2,label:n("light"),value:"false",img:"/src/img/light-mode-placeholder.png"},{id:3,label:n("dark"),value:"true",img:"/src/img/dark-mode-placeholder.png"}]),k=f(()=>[{id:1,label:n("settings.language.english"),value:"en",img:"/src/img/flags/english-img.png"},{id:2,label:n("settings.language.french"),value:"fr",img:"/src/img/flags/french-img.png"},{id:3,label:n("settings.language.german"),value:"de",img:"/src/img/flags/german-img.png"},{id:4,label:n("settings.language.spanish"),value:"es",img:"/src/img/flags/spain-img.png"}]),l=P({theme:"auto",language:"en",notification:{email:!0,system:!0}}),$=t=>{l.value.theme=t.value},V=async()=>{await y(null,l.value),q()},q=async()=>{await b(!0),setTimeout(()=>{window.location.reload()},300)};return S(()=>u.preferences,t=>{t&&t.length>0&&(l.value={...t[0].preferences})},{immediate:!0}),(t,r)=>(d(),I(H,{class:"q-pa-md"},{default:o(()=>[s(J,{title:"settings.title",subtitle:"settings.subtitle",icon:"sym_r_settings"}),e("div",M,[s(B,null,{default:o(()=>[s(v,{class:"pb-0"},{default:o(()=>[e("div",W,i(t.$t("settings.preferences")),1)]),_:1}),s(m,{class:"mt-3 mx-4"}),s(v,{class:"mt-0"},{default:o(()=>[s(G,null,{default:o(()=>[e("div",X,[e("div",null,[e("div",Y,i(t.$t("settings.theme.label")),1),e("div",Z,i(t.$t("settings.theme.subtitle")),1)]),e("div",ee,[e("div",se,[e("div",te,[(d(!0),c(j,null,N(Q.value,a=>(d(),c("div",{key:a.id,class:""},[e("div",{class:T(["cursor-pointer text-center q-pa-sm sm:q-pa-md border border-[#ddd] transition-all ease-in-out hover:ring-1 hover:ring-primary-300 rounded-md dark:border-gray-600",{"ring-2 ring-primary-600  text-primary":l.value.theme===a.value}]),onClick:fe=>$(a)},[s(h,{src:a.img,class:"w-28 object-cover"},null,8,["src"]),e("div",le,i(a.label),1)],10,ae)]))),128))])]),"theme"in g(p)?(d(),c("div",ie,i(g(p).theme?.[0]),1)):U("",!0)])]),s(m,{class:"mt-4"}),e("div",oe,[e("div",null,[e("div",ne,i(t.$t("settings.language.label")),1),e("div",re,i(t.$t("settings.language.subtitle")),1)]),e("div",de,[s(E,{modelValue:l.value.language,"onUpdate:modelValue":r[0]||(r[0]=a=>l.value.language=a),options:k.value,"map-options":"","emit-value":"",outlined:"","hide-bottom-space":"",dense:""},{option:o(a=>[s(O,z(D(a.itemProps)),{default:o(()=>[s(R,null,{default:o(()=>[s(A,{class:"flex items-center gap-3"},{default:o(()=>[s(h,{src:a.opt.img,class:"w-6 h-6 rounded-full"},null,8,["src"]),F(" "+i(a.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])])]),s(m,{class:"mt-4"}),e("div",me,[e("div",null,[e("div",ce,i(t.$t("settings.notifications.label")),1),e("div",ge,i(t.$t("settings.notifications.subtitle")),1)]),e("div",null,[s(_,{modelValue:l.value.notification.email,"onUpdate:modelValue":r[1]||(r[1]=a=>l.value.notification.email=a),label:t.$t("settings.notifications.email_notifications_label"),color:"primary",class:"q-mt-sm flex gap-1"},null,8,["modelValue","label"]),s(_,{modelValue:l.value.notification.system,"onUpdate:modelValue":r[2]||(r[2]=a=>l.value.notification.system=a),label:t.$t("settings.notifications.in_app_notifications_label"),color:"primary",class:"q-mt-sm flex gap-1 mt-0"},null,8,["modelValue","label"])])]),s(m,{class:"mt-5"}),e("div",ue,[s(L,{label:t.$t("save"),icon:"sym_r_save",color:"primary",unelevated:"",loading:g(x),onClick:V},null,8,["label","loading"])])]),_:1})]),_:1})]),_:1})])]),_:1}))}};export{Ce as default};
