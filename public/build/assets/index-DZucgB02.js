import{be as d,bf as h,an as f}from"./app-CVo2F_W3.js";function b(e){return d()?(h(e),!0):!1}function S(){const e=new Set,n=r=>{e.delete(r)};return{on:r=>{e.add(r);const i=()=>n(r);return b(i),{off:i}},off:n,trigger:(...r)=>Promise.all(Array.from(e).map(i=>i(...r))),clear:()=>{e.clear()}}}const T=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const p=()=>{},O=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);function w(e,n){function o(...t){return new Promise((c,r)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(c).catch(r)})}return o}function y(e,n={}){let o,t,c=p;const r=s=>{clearTimeout(s),c(),c=p};let i;return s=>{const u=f(e),a=f(n.maxWait);return o&&r(o),u<=0||a!==void 0&&a<=0?(t&&(r(t),t=null),Promise.resolve(s())):new Promise((l,m)=>{c=n.rejectOnCancel?m:l,i=s,a&&!t&&(t=setTimeout(()=>{o&&r(o),t=null,l(i())},a)),o=setTimeout(()=>{t&&r(t),t=null,l(s())},u)})}}function x(e,n=200,o={}){return w(y(n,o),e)}export{S as c,O as h,T as i,x as u};
