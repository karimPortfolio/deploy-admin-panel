import{v as d,u as x,a0 as Q,D as k,U as h,ai as V,c as S,w as s,$,ab as q,o as I,b as a,i as n,l as z,g,t as w,af as i,Q as m,k as C}from"./app-CVo2F_W3.js";import{Q as P}from"./QSpinnerOval-BNKl9G_f.js";import{Q as B}from"./QForm-BsOaUD0C.js";import{Q as D}from"./QPage-BBLQyAC7.js";import{b as M,a as U}from"./QLayout-kQp8uDh8.js";import"./QImg-BE0GSjEp.js";import"./QMenu-Bv4-7jnn.js";import"./QSelect-BsTDJULy.js";import{_ as N}from"./AuthPageHeader-DsVm23dk.js";import{u as v}from"./index-CwMOWcUW.js";/* empty css               */import"./format-BOf40pHW.js";import"./index-DZucgB02.js";const R={class:"w-full min-h-screen dark:bg-slate-900 sm:bg-gray-50 flex"},O={class:"sm:q-pa-xl flex-1 flex flex-col"},T={class:"text-bold text-h4 text-primary"},j={class:"text-gray-600 text-sm"},oe={__name:"ResetPasswordView",setup(A){const r=d({}),u=d(!1),l=d({}),p=V(),c=$(),f=x(),{t:F}=Q(),y=async()=>{u.value=!0;try{l.value={},await f.resetPassword(r.value,"http://deploy-admin-panel.test/auth/login")}catch(e){e.response?.status===422&&(l.value=e.response.data.errors)}finally{u.value=!1}},_=v(()=>{const e=localStorage.getItem("dark");if(e==="auto"){c.dark.set(e);return}const o=JSON.parse(e)??"auto";c.dark.set(o)}),b=v(()=>{const e=localStorage.getItem("language")??"en";q.global.locale.value=e});return k(()=>f.errorMessages,e=>{e&&(l.value=e)}),h(()=>{r.value.email=p.query.email,r.value.token=p.query.token,_(),b()}),(e,o)=>(I(),S(M,null,{default:s(()=>[a(U,null,{default:s(()=>[a(D,null,{default:s(()=>[n("div",R,[a(N),n("div",O,[a(z,{class:"flex flex-col justify-center items-center my-auto sm:shadow-lg shadow-none sm:rounded-xl rounded-none sm:max-w-md max-w-full mx-auto w-full"},{default:s(()=>[a(g,{class:"w-full text-center pt-8"},{default:s(()=>[n("div",T,w(e.$t("reset_password")),1),n("div",j,w(e.$t("reset_password_subtitle")),1)]),_:1}),a(g,{class:"w-full px-8 pt-4 pb-8"},{default:s(()=>[a(B,{onSubmit:o[3]||(o[3]=t=>t.preventDefault()),class:"q-gutter-y-sm"},{default:s(()=>[a(i,{modelValue:r.value.email,"onUpdate:modelValue":o[0]||(o[0]=t=>r.value.email=t),label:e.$t("users.email"),"lazy-rules":"","error-message":l.value.email?.[0],error:"email"in l.value,outlined:"",readonly:"",disable:""},{prepend:s(()=>[a(m,{name:"email",color:"primary"})]),_:1},8,["modelValue","label","error-message","error"]),a(i,{type:"password",modelValue:r.value.password,"onUpdate:modelValue":o[1]||(o[1]=t=>r.value.password=t),label:e.$t("users.password"),"lazy-rules":"","error-message":l.value.password?.[0],error:"password"in l.value,outlined:""},{prepend:s(()=>[a(m,{name:"lock",color:"primary"})]),_:1},8,["modelValue","label","error-message","error"]),a(i,{type:"password",modelValue:r.value.password_confirmation,"onUpdate:modelValue":o[2]||(o[2]=t=>r.value.password_confirmation=t),label:e.$t("profile.password.confirm_password"),"lazy-rules":"","error-message":l.value.password_confirmation?.[0],error:"password_confirmation"in l.value,outlined:""},{prepend:s(()=>[a(m,{name:"lock",color:"primary"})]),_:1},8,["modelValue","label","error-message","error"]),a(C,{label:e.$t("reset_password"),onClick:y,loading:u.value,class:"w-full bg-primary text-white q-py-md rounded-lg",unelevated:""},{loading:s(()=>[a(P)]),_:1},8,["label","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1}))}};export{oe as default};
